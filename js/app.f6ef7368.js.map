{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/PhewasMaker.vue?5027","webpack:///./src/App.vue?5d06","webpack:///./src/util/constants.js","webpack:///./src/gwas/parser_utils.js","webpack:///./src/gwas/parsers.js","webpack:///./src/util/lz-helpers.js","webpack:///./src/util/metrics.js","webpack:///./src/components/PlotPanes.vue?0b52","webpack:///./src/components/ExportData.vue?244c","webpack:///./src/components/TabulatorTable.vue?da87","webpack:///src/components/TabulatorTable.vue","webpack:///./src/components/TabulatorTable.vue?9f3e","webpack:///./src/components/TabulatorTable.vue","webpack:///src/components/ExportData.vue","webpack:///./src/components/ExportData.vue?15c8","webpack:///./src/components/ExportData.vue","webpack:///./src/components/LzPlot.vue?d2a4","webpack:///src/components/LzPlot.vue","webpack:///./src/components/LzPlot.vue?2d64","webpack:///./src/components/LzPlot.vue","webpack:///./src/components/PhewasMaker.vue?d188","webpack:///src/components/PhewasMaker.vue","webpack:///./src/components/PhewasMaker.vue?01d9","webpack:///./src/components/PhewasMaker.vue?46ee","webpack:///src/components/PlotPanes.vue","webpack:///./src/components/PlotPanes.vue?2d78","webpack:///./src/components/PlotPanes.vue?741b","webpack:///./src/components/GwasToolbar.vue?618f","webpack:///./src/components/AdderWizard.vue?25a5","webpack:///./src/gwas/sniffers.js","webpack:///src/components/AdderWizard.vue","webpack:///./src/components/AdderWizard.vue?539d","webpack:///./src/components/AdderWizard.vue?7f19","webpack:///./src/components/BatchSpec.vue?1456","webpack:///./src/util/entity-helpers.js","webpack:///src/components/BatchSpec.vue","webpack:///./src/components/BatchSpec.vue?2bdc","webpack:///./src/components/BatchSpec.vue","webpack:///./src/components/BatchScroller.vue?6e9f","webpack:///src/components/BatchScroller.vue","webpack:///./src/components/BatchScroller.vue?4ece","webpack:///./src/components/BatchScroller.vue","webpack:///./src/components/RegionPicker.vue?8c90","webpack:///src/components/RegionPicker.vue","webpack:///./src/components/RegionPicker.vue?7a90","webpack:///./src/components/RegionPicker.vue","webpack:///./src/components/TabixFile.vue?1048","webpack:///src/components/TabixFile.vue","webpack:///./src/components/TabixFile.vue?dbb8","webpack:///./src/components/TabixFile.vue","webpack:///./src/components/TabixUrl.vue?d5e8","webpack:///src/components/TabixUrl.vue","webpack:///./src/components/TabixUrl.vue?5e50","webpack:///./src/components/TabixUrl.vue","webpack:///src/components/GwasToolbar.vue","webpack:///./src/components/GwasToolbar.vue?13f2","webpack:///./src/components/GwasToolbar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/PlotPanes.vue?88b6","webpack:///./src/components/AdderWizard.vue?9b20"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","_m","directives","rawName","modifiers","_v","attrs","on","receiveAssocOptions","updateRegion","ref","base_assoc_layout","base_assoc_sources","study_names","has_credible_sets","build","chr","start","end","staticRenderFns","staticStyle","PORTAL_API_BASE_URL","LD_SERVER_BASE_URL","REGEX_POSITION","REGEX_REGION","MISSING_VALUES","Set","REGEX_MARKER","REGEX_PVAL","has","num","Number","isInteger","missingToNull","values","nulls","placeholder","map","v","parseMarker","test","match","Error","parsePvalToLog","is_neg_log","val","Infinity","base","exponent","Math","log10","parseAlleleFrequency","freq","allele_count","n_samples","is_alt_effect","undefined","makeParser","marker_col","chrom_col","pos_col","ref_col","alt_col","pvalue_col","beta_col","stderr_beta_col","allele_freq_col","allele_count_col","n_samples_col","is_neg_log_pvalue","delimiter","line","pos","alt","fields","split","alt_allele_freq","replace","log_pval","beta","stderr_beta","ref_alt","chromosome","position","ref_allele","toUpperCase","alt_allele","log_pvalue","variant","stateUrlMapping","freeze","sourceName","display_name","createStudyLayout","source_label","annotations","credible_sets","gwas_catalog","new_panels","source_name","namespace","assoc","credset","catalog","assoc_panel","LocusZoom","Layouts","id","title","text","assoc_layer","data_layers","label","spacing","lines","style","stroke","filters","field","operator","tooltip","assoc_tooltip","html","dash_extra","some","item","type","color","button_html","button_title","layer_name","default_config_display_name","options","fields_extra","basis","dashboard","components","pop","x","createStudyTabixSources","tabix_reader","parser_options","assoc_name","source_params","id_field","params","threshold","addPanels","plot","data_sources","panel_options","source_options","forEach","source","add","panel_layout","y_index","panel","addPanel","addBasicLoader","getBasicSources","study_sources","url","population","getBasicLayout","initial_state","study_panels","mods","panels","proportional_height","unnamespaced","extra","assign","state","deNamespace","prefer","keys","reduce","acc","new_key","startsWith","KnownDataSources","extend","parseInit","init","parser","reader","getCacheKey","chain","join","fetchRequest","self","Promise","resolve","reject","fetch","err","normalizeResponse","filter","isNaN","_wr","orig","history","args","rv","e","Event","arguments","dispatchEvent","count_region_view","gtag","pushState","addEventListener","model","callback","$$v","selected_tab","expression","assoc_layout","assoc_sources","dynamic_urls","onVariantClick","receivePlot","has_studies","allow_phewas","slot","tmp_phewas_variant","tmp_phewas_study","tmp_phewas_logpvalue","PHEWAS_TAB","table_data","subscribeFields","$event","$$selectedVal","Array","target","selected","_value","selected_study","multiple","_l","index","domProps","_s","exportCSV","table_config","column","dir","table","_t","component","formatSciNotation","cell","dom_id","variant_name","rendered","your_study","display_pvalue","display_logpvalue","base_phewas_layout","base_phewas_sources","batch_mode_active","_e","study_count","max_studies","connectReader","showMessage","file_reader","sendConfig","show_modal","max_region_size","selectRange","activateBatchMode","isArray","has_catalog","_i","$$a","$$el","$$c","checked","$$i","concat","_q","batch_mode_regions","class","message_class","message","$emit","current_page","PAGES","filename","composing","file_name","variant_spec_tab","optional","AF_SPEC","freq_spec_option","count","isValid","preview","error","toFixed","sendOptions","isNumeric","isHeader","row","comment_char","every","levenshtein","a","b","distanceMatrix","fill","indicator","min","findColumn","column_synonyms","header_names","best_score","best_match","header","score","getPvalColumn","header_row","data_rows","ps","LOGPVALUE_FIELDS","PVALUE_FIELDS","validateP","col","is_log","cleaned_vals","_missingToNull","log_p_col","p_col","getChromPosRefAltColumns","MARKER_FIELDS","CHR_FIELDS","POS_FIELDS","REF_FIELDS","ALT_FIELDS","first_row","headers_marked","find","config","col_name","choices","getEffectSizeColumns","BETA_FIELDS","STDERR_BETA_FIELDS","validate_numeric","nums","ret","guessGWAS","offset","headers","toLowerCase","pval_config","position_config","beta_config","region_text","updateRegions","sendRegions","positionToRange","region_size","bounds","floor","max","parseRegion","spec","range_match","single_match","toLocaleString","current_index","goToItem","current_region_display","regions","cancelNavigation","search_results","term","region","selectRegion","addSource","trim","$forceUpdate","Sentry","dsn","process","integrations","Vue","render","h","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,GAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,+HCvJT,yBAAue,EAAG,G,wICAte,G,oBAAS,WAAa,IAAIyC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAMA,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,aAAakC,QAAQ,4BAA4BC,UAAU,CAAC,cAAe,KAAQJ,YAAY,YAAY,CAACN,EAAIW,GAAG,kBAAkBP,EAAG,aAAa,CAACE,YAAY,OAAOM,MAAM,CAAC,GAAK,iBAAiB,CAACR,EAAG,SAAS,CAACA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIW,GAAG,sMAAsMP,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIW,GAAG,uJAAuJP,EAAG,KAAK,CAACJ,EAAIW,GAAG,YAAYP,EAAG,KAAK,CAACJ,EAAIW,GAAG,0IAA0IP,EAAG,KAAK,CAACJ,EAAIW,GAAG,gFAAgFP,EAAG,IAAI,CAACQ,MAAM,CAAC,KAAO,oHAAoH,CAACZ,EAAIW,GAAG,iCAAiCX,EAAIW,GAAG,qBAAqBP,EAAG,KAAK,CAACJ,EAAIW,GAAG,wMAAwMP,EAAG,OAAO,CAACJ,EAAIW,GAAG,qBAAqBX,EAAIW,GAAG,8OAA8OP,EAAG,KAAK,CAACJ,EAAIW,GAAG,2DAA2DP,EAAG,IAAI,CAACJ,EAAIW,GAAG,+PAA+PP,EAAG,IAAI,CAACJ,EAAIW,GAAG,2EAA2EP,EAAG,SAAS,CAACJ,EAAIW,GAAG,kBAAkBX,EAAIW,GAAG,qBAAqBP,EAAG,SAAS,CAACJ,EAAIW,GAAG,kBAAkBX,EAAIW,GAAG,+IAA+IP,EAAG,IAAI,CAACJ,EAAIW,GAAG,iDAAiDP,EAAG,IAAI,CAACQ,MAAM,CAAC,KAAO,mDAAmD,CAACZ,EAAIW,GAAG,gBAAgBX,EAAIW,GAAG,8LAA8L,IAAI,KAAKP,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,eAAe,CAACQ,MAAM,CAAC,YAAc,GAAGC,GAAG,CAAC,eAAeb,EAAIc,oBAAoB,eAAed,EAAIe,iBAAiB,KAAKX,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,aAAa,CAACY,IAAI,aAAaJ,MAAM,CAAC,cAAe,EAAK,aAAeZ,EAAIiB,kBAAkB,cAAgBjB,EAAIkB,mBAAmB,YAAclB,EAAImB,YAAY,kBAAoBnB,EAAIoB,kBAAkB,MAAQpB,EAAIqB,MAAM,IAAMrB,EAAIsB,IAAI,MAAQtB,EAAIuB,MAAM,IAAMvB,EAAIwB,QAAQ,KAAKxB,EAAIO,GAAG,OACt4GkB,EAAkB,CAAC,WAAa,IAAIzB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIW,GAAG,wDAAwD,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,SAAS,CAACsB,YAAY,CAAC,aAAa,WAAW,CAAC1B,EAAIW,GAAG,+BAA+BP,EAAG,IAAI,CAACQ,MAAM,CAAC,KAAO,+BAA+B,CAACZ,EAAIW,GAAG,yEAAyEP,EAAG,c,+KCDhjBuB,G,UAAsB,2CACtBC,EAAqB,sCAErBC,EAAiB,4BACjBC,EAAe,kC,YCAfC,G,4DAAiB,IAAIC,IAAI,CAAC,GAAI,IAAK,KAAM,MAAO,MAAO,MAAO,OAAQ,MAAO,OAAQ,OAAQ,OAAQ,OAAQ,QAC7GC,EAAe,iEACfC,EAAa,+BASnB,SAASC,EAAIC,GACT,OAAOC,OAAOC,UAAUF,GAO5B,SAASG,EAAcC,GAAoD,IAA5CC,EAA4C,uDAApCV,EAAgBW,EAAoB,uDAAN,KAEjE,OAAOF,EAAOG,KAAI,SAAAC,GAAC,OAAKH,EAAMN,IAAIS,GAAKF,EAAcE,KASzD,SAASC,EAAY7D,GAAqB,IAAd8D,EAAc,wDAChCC,EAAQ/D,EAAM+D,MAAMd,GAC1B,GAAIc,EACA,OAAOA,EAAMhD,MAAM,GAEvB,GAAK+C,EAGD,OAAO,KAFP,MAAM,IAAIE,MAAM,oFAYxB,SAASC,EAAejE,GAA2B,IAApBkE,EAAoB,wDAC/C,GAAc,OAAVlE,EACA,OAAOA,EAEX,IAAMmE,GAAOnE,EACb,GAAIkE,EACA,OAAOC,EAGX,GAAIA,EAAM,GAAKA,EAAM,EACjB,MAAM,IAAIH,MAAM,uCAIpB,GAAY,IAARG,EAAW,CAEX,GAAc,MAAVnE,EAEA,OAAOoE,IAJA,MASgBpE,EAAM+D,MAAMb,GAT5B,sBASJmB,EATI,KASIC,EATJ,KAiBX,OAPAD,GAAQA,EAGJC,EADa,KAAbA,GACYA,EAED,EAEF,IAATD,EACOD,MAEFG,KAAKC,OAAOH,KAASC,GAElC,OAAQC,KAAKC,MAAML,GAGvB,SAASM,EAAT,GAAuF,IAK/EjG,EALwBkG,EAAuD,EAAvDA,KAAMC,EAAiD,EAAjDA,aAAcC,EAAmC,EAAnCA,UAAmC,IAAxBC,qBAAwB,SACnF,QAAaC,IAATJ,QAAuCI,IAAjBH,EACtB,MAAM,IAAIX,MAAM,6DAIpB,QAAac,IAATJ,IAAuB3B,EAAeI,IAAIwB,IAAiB5B,EAAeI,IAAIyB,IAE9E,OAAO,KAEX,QAAaE,IAATJ,QAAuCI,IAAjBH,EACtBnG,GAAUmG,GAAgBC,EAAY,MACnC,IAAI7B,EAAeI,IAAIuB,GAC1B,OAAO,KAEPlG,GAAUkG,EAId,GAAIlG,EAAS,GAAKA,EAAS,EACvB,MAAM,IAAIwF,MAAM,gDAEpB,OAAKa,EAGErG,EAFI,EAAIA,ECrFnB,SAASuG,IAmBP,6DADM,GAfAC,EAgBN,EAhBMA,WACAC,EAeN,EAfMA,UACAC,EAcN,EAdMA,QACAC,EAaN,EAbMA,QACAC,EAYN,EAZMA,QACAC,EAWN,EAXMA,WAEAC,EASN,EATMA,SACAC,EAQN,EARMA,gBACAC,EAON,EAPMA,gBACAC,EAMN,EANMA,iBACAC,EAKN,EALMA,cAKN,IAJMb,qBAIN,aAHMc,yBAGN,aAFMC,iBAEN,MAFkB,KAElB,EAEE,GAAIzC,EAAI6B,IAAe7B,EAAI8B,IAAc9B,EAAI+B,GACzC,MAAM,IAAIlB,MAAM,2CAEpB,KAAMb,EAAI6B,IAAgB7B,EAAI8B,IAAc9B,EAAI+B,IAC5C,MAAM,IAAIlB,MAAM,qCAGpB,GAAIb,EAAIsC,IAAqBtC,EAAIqC,GAC7B,MAAM,IAAIxB,MAAM,6DAEpB,GAAIb,EAAIsC,KAAsBtC,EAAIuC,GAC9B,MAAM,IAAI1B,MAAM,8EAIpB,OAAO,SAAC6B,GACJ,IACIvD,EACAwD,EACA9D,EACA+D,EAEArB,EAEAC,EACAC,EATEoB,EAASH,EAAKI,MAAML,GAOtBM,EAAkB,KAItB,GAAI/C,EAAI6B,GAAa,OACMnB,EAAYmC,EAAOhB,EAAa,IAAI,GAD1C,sBAChB1C,EADgB,KACXwD,EADW,KACN9D,EADM,KACD+D,EADC,SAEd,KAAI5C,EAAI8B,KAAc9B,EAAI+B,GAI7B,MAAM,IAAIlB,MAAM,kCAHhB1B,EAAM0D,EAAOf,EAAY,GAAGkB,QAAQ,QAAS,IAC7CL,EAAME,EAAOd,EAAU,GAKvB/B,EAAIgC,KACJnD,EAAMgE,EAAOb,EAAU,IAGvBhC,EAAIiC,KACJW,EAAMC,EAAOZ,EAAU,IAGvBrC,EAAeI,IAAInB,KACnBA,EAAM,MAENe,EAAeI,IAAI4C,KACnBA,EAAM,MAGV,IAAMK,EAAWnC,EAAe+B,EAAOX,EAAa,GAAIM,GACxD3D,EAAMA,GAAO,KACb+D,EAAMA,GAAO,KAET5C,EAAIqC,KACJd,EAAOsB,EAAOR,EAAkB,IAEhCrC,EAAIsC,KACJd,EAAeqB,EAAOP,EAAmB,GACzCb,EAAYoB,EAAON,EAAgB,IAEvC,IAAMW,EAAOlD,EAAImC,IAAaU,EAAOV,EAAW,GAAK,KAC/CgB,EAAcnD,EAAIoC,IAAoBS,EAAOT,EAAkB,GAAK,MAEtEC,GAAmBC,KACnBS,EAAkBzB,EAAqB,CACnCC,OACAC,eACAC,YACAC,mBAGR,IAAM0B,EAAWvE,GAAO+D,EAAR,WAAmB/D,EAAnB,YAA0B+D,GAAQ,GAClD,MAAO,CACHS,WAAYlE,EACZmE,UAAWX,EACXY,WAAY1E,EAAMA,EAAI2E,cAAgB,KACtCC,WAAYb,EAAMA,EAAIY,cAAgB,KACtCE,WAAYT,EACZU,QAAS,GAAF,OAAKxE,EAAL,YAAYwD,GAAZ,OAAkBS,GACzBF,OACAC,cACAJ,oBAMiBnB,EAAW,CACpCE,UAAW,EACXC,QAAS,EACTC,QAAS,EACTC,QAAS,EACTC,WAAY,EACZC,SAAU,EACVC,gBAAiB,EACjBI,mBAAmB,EACnBC,UAAW,O,4kBC9If,IAAMmB,EAAkBnJ,OAAOoJ,OAAO,CAAE1E,IAAK,QAASC,MAAO,QAASC,IAAK,QAoC3E,SAASyE,EAAWC,GAChB,OAAOA,EAAaf,QAAQ,iBAAkB,KAWlD,SAASgB,EACLC,GAGF,QAFEC,EAEF,uDAFgB,CAAEC,eAAe,EAAOC,cAAc,GAG9CC,GADR,iCACqB,IACbC,EAAcR,EAAWG,GAGzBM,EAAY,CACdC,MAAO,SAAF,OAAWF,GAChBG,QAAS,WAAF,OAAaH,GACpBI,QAAS,WAGPC,EAAcC,IAAUC,QAAQpI,IAAI,QAAS,cAAe,CAC9DqI,GAAI,eAAF,OAAiBR,GACnBS,MAAO,CAAEC,KAAMf,GACfM,cAEEU,EAAcN,EAAYO,YAAY,GAC5CD,EAAYE,MAAQ,CAChBH,KAAM,kCACNI,QAAS,GACTC,MAAO,CAAEC,MAAO,CAAE,eAAgB,MAAOC,OAAQ,UAAW,mBAAoB,YAChFC,QAAS,CACL,CAAEC,MAAO,gBAAiBC,SAAU,IAAK7I,OAAO,IAEpDyI,MAAO,CAAE,cAAe,SAE5BL,EAAYU,QAAUf,IAAUC,QAAQpI,IAAI,UAAW,kCAAmC,CAAE8H,cAC5F,IAAMqB,EAAgBX,EAAYU,QAElCC,EAAcC,MAAQ,0HACtBD,EAAcC,MAAQ,6IACtBD,EAAcC,MAAQ,oJAEtB,IAAMC,EAAa,GACfrL,OAAO4F,OAAO6D,GAAa6B,MAAK,SAAAC,GAAI,QAAMA,MAC1CF,EAAWhL,KAAK,CACZmL,KAAM,kBACN3C,SAAU,QACV4C,MAAO,OAEPC,YAAa,qBACbC,aAAc,uCACdC,WAAY,qBACZC,4BAA6B,eAC7BC,QAAS,KAGjB,IAAMC,EAAe,CACjB,2BACA,kCACA,uCAEJ,GAAItC,EAAYC,cAAe,OAErBsC,EAAQ7B,IAAUC,QAAQpI,IAAI,QAAS,2BAA4B,CAAE8H,eAC3E,EAAAuB,EAAW,GAAGS,SAAQzL,KAAtB,uBAA8B2L,EAAMC,UAAUC,WAAWC,MAAML,UAC/DC,EAAa1L,KAAK,uCAAwC,yCAA0C,mCACpG8K,EAAcC,MAAQ,uGAE1B,GAAI3B,EAAYE,aAAc,OAEpBqC,EAAQ7B,IAAUC,QAAQpI,IAAI,QAAS,sBAAuB,CAAE8H,eACtE,EAAAuB,EAAW,GAAGS,SAAQzL,KAAtB,uBAA8B2L,EAAMC,UAAUC,WAAWC,MAAML,UAC/DC,EAAa1L,KAAK,6BAA8B,8BAA+B,oCAC/E8K,EAAcC,MAAQ,2KAmB1B,OAjBA,EAAAZ,EAAYpC,QAAO/H,KAAnB,QAA2B0L,IAC3B,EAAA7B,EAAY+B,UAAUC,YAAW7L,KAAjC,QAAyCgL,GAGzCzB,EAAWvJ,KAAK8J,IAAUC,QAAQpI,IAAI,QAAS,cAAekI,IAC1DT,EAAYE,cACZC,EAAWvJ,KAAK8J,IAAUC,QAAQpI,IAAI,QAAS,qBAAsB,CACjEqI,GAAI,WAAF,OAAaR,GACfC,YACAmC,UAAW,CAAEC,WAAY,IACzB5B,MAAO,CACHC,KAAM,uBACNM,MAAO,CAAE,YAAa,QACtBuB,EAAG,OAIRxC,EAOX,SAASyC,EAAwB3B,EAAO4B,EAAcC,GAClD,IAAMC,EAAa,SAAH,OAAYnD,EAAWqB,IACjC+B,EAAgB,EAAH,GAAQF,EAAR,CAAwBG,SAAU,YACrD,MAAO,CACH,CAACF,EAAY,CAAC,qBAAsB,CAAEF,eAAcK,OAAQF,KAC5D,mBACepD,EAAWqB,IAAU,CAC5B,gBACA,CAAEiC,OAAQ,CAAEvE,OAAQ,CAAEa,WAAY,GAAF,OAAKuD,EAAL,gBAAgCI,UAAW,SAM3F,SAASC,EAAUC,EAAMC,EAAcC,EAAeC,GAClDA,EAAeC,SAAQ,SAAAC,GAAM,OAAIJ,EAAaK,IAAb,MAAAL,EAAY,eAAQI,OACrDH,EAAcE,SAAQ,SAACG,GACnBA,EAAaC,SAAW,EACxB,IAAMC,EAAQT,EAAKU,SAASH,GAC5BE,EAAME,oBAQd,SAASC,IAAoC,IAApBC,EAAoB,uDAAJ,GACrC,+BACOA,GADP,CAEI,CAAC,UAAW,CAAC,gBAAiB,CAAEC,IAAK,GAAF,OAAK7I,EAAL,sCACnC,CAAC,KAAM,CAAC,QAAS,CAAE6I,IAAK5I,EAAoB2H,OAAQ,CAAEQ,OAAQ,QAASU,WAAY,UACnF,CAAC,OAAQ,CAAC,SAAU,CAAED,IAAK,GAAF,OAAK7I,EAAL,wBACzB,CAAC,SAAU,CAAC,WAAY,CAAE6I,IAAK,GAAF,OAAK7I,EAAL,iCAC7B,CAAC,aAAc,CAAC,mBAAoB,CAAE6I,IAAK,6CAInD,SAASE,IAAiE,IAAlDC,EAAkD,uDAAlC,GAAIC,EAA8B,uDAAf,GAAIC,EAAW,uDAAJ,GAC5DC,EAAS,GAAH,sBACLF,GADK,CAER7D,IAAUC,QAAQpI,IAAI,QAAS,QAAS,CAAEmM,oBAAqB,OAG7DlC,EAAY9B,IAAUC,QAAQpI,IAAI,YAAa,gBAAiB,CAAEoM,cAAc,IACtFnC,EAAUC,WAAW7L,KAAK8J,IAAUC,QAAQpI,IAAI,uBAAwB,uBACxE,IAAMqM,EAAQrO,OAAOsO,OAAO,CACxBC,MAAOR,EACP9B,YACAiC,UACDD,GACH,OAAO9D,IAAUC,QAAQpI,IAAI,OAAQ,uBAAwBqM,GAejE,SAASG,EAAYjP,EAAMkP,GACvB,OAAOzO,OAAO0O,KAAKnP,GAAMoP,QAAO,SAACC,EAAKlM,GAClC,IAAMmM,EAAUnM,EAAI6F,QAAQ,OAAQ,IAKpC,OAJKvI,OAAOC,UAAUC,eAAeC,KAAKyO,EAAKC,IACtCJ,IAAU/L,EAAIoM,WAAWL,KAC9BG,EAAIC,GAAWtP,EAAKmD,IAEjBkM,IACR,IAtNPzE,IAAU4E,iBAAiBC,OAAO,gBAAiB,qBAAsB,CACrEC,UADqE,SAC3DC,GACN7L,KAAKsJ,OAASuC,EAAKvC,OACnBtJ,KAAK8L,OAAShI,EAAW9D,KAAKsJ,QAC9BtJ,KAAK+L,OAASF,EAAK5C,cAEvB+C,YANqE,SAMzDd,EAAOe,EAAOlH,GACtB,MAAO,CAACmG,EAAM7J,IAAK6J,EAAM5J,MAAO4J,EAAM3J,KAAK2K,KAAK,MAEpDC,aATqE,SASxDjB,EAAOe,EAAOlH,GACvB,IAAMqH,EAAOpM,KACb,OAAO,IAAIqM,SAAQ,SAACC,EAASC,GACzBH,EAAKL,OAAOS,MAAMtB,EAAM7J,IAAK6J,EAAM5J,MAAO4J,EAAM3J,KAAK,SAACrF,EAAMuQ,GACpDA,GACAF,EAAO,IAAIxJ,MAAM,qFAErBuJ,EAAQpQ,UAIpBwQ,kBApBqE,SAoBnDxQ,GAId,OAAOA,EAAKwG,IAAI1C,KAAK8L,QAAQa,QAAO,SAAAzE,GAAI,OAAK9F,OAAOwK,MAAM1E,EAAKtC,kBCnBvE,IAAMiH,EAAM,SAAa1E,GACrB,IAAM2E,EAAOlN,OAAOmN,QAAQ5E,GAC5B,OAAO,WAAuC,2BAAN6E,EAAM,yBAANA,EAAM,gBAC1C,IAAMC,EAAKH,EAAKzP,MAAM2C,KAAMgN,GACtBE,EAAI,IAAIC,MAAMhF,GAGpB,OAFA+E,EAAEE,UAAYJ,EACdpN,OAAOyN,cAAcH,GACdD,IAKTK,EAAoB,WAClB1N,OAAO2N,MACP3N,OAAO2N,KAAK,QAAS,eAIzB3N,OAAO2N,OAEP3N,OAAOmN,QAAQS,UAAYX,EAAI,aAM/BjN,OAAO6N,iBAAiB,WAAYH,GACpC1N,OAAO6N,iBAAiB,YAAaH,IAG1BA,QC3CX,EAAS,WAAa,IAAIvN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACQ,MAAM,CAAC,UAAU,KAAK,CAACR,EAAG,SAAS,CAACE,YAAY,cAAcoB,YAAY,CAAC,aAAa,UAAUd,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,SAAW,GAAG,gBAAgB,gBAAgB+M,MAAM,CAAC3O,MAAOgB,EAAgB,aAAE4N,SAAS,SAAUC,GAAM7N,EAAI8N,aAAaD,GAAKE,WAAW,iBAAiB,CAAC3N,EAAG,QAAQ,CAACQ,MAAM,CAAC,MAAQ,SAAS,CAAEZ,EAAe,YAAEI,EAAG,UAAU,CAACQ,MAAM,CAAC,cAAe,EAAK,YAAcZ,EAAIgO,aAAa,aAAehO,EAAIiO,cAAc,IAAMjO,EAAIsB,IAAI,MAAQtB,EAAIuB,MAAM,IAAMvB,EAAIwB,IAAI,aAAexB,EAAIkO,cAAcrN,GAAG,CAAC,gBAAkBb,EAAImO,eAAe,UAAYnO,EAAIoO,eAAehO,EAAG,MAAM,CAACE,YAAY,mBAAmBoB,YAAY,CAAC,QAAU,UAAU,CAACtB,EAAG,OAAO,CAACE,YAAY,cAAcoB,YAAY,CAAC,QAAU,aAAa,iBAAiB,WAAW,CAAC1B,EAAIW,GAAG,0EAA0E,GAAGP,EAAG,QAAQ,CAACQ,MAAM,CAAC,UAAYZ,EAAIqO,cAAgBrO,EAAIsO,eAAe,CAAClO,EAAG,WAAW,CAACmO,KAAK,SAAS,CAACnO,EAAG,OAAO,CAACQ,MAAM,CAAC,MAAQ,6CAA6C,CAACZ,EAAIW,GAAG,cAAcP,EAAG,eAAe,CAACQ,MAAM,CAAC,aAAeZ,EAAIwO,mBAAmB,MAAQxO,EAAIqB,MAAM,WAAarB,EAAIyO,iBAAiB,eAAiBzO,EAAI0O,qBAAqB,aAAe1O,EAAI8N,eAAiB9N,EAAI2O,eAAe,GAAGvO,EAAG,QAAQ,CAACQ,MAAM,CAAC,MAAQ,SAAS,UAAYZ,EAAIqO,cAAc,CAACjO,EAAG,cAAc,CAACQ,MAAM,CAAC,kBAAoBZ,EAAIoB,kBAAkB,YAAcpB,EAAImB,YAAY,WAAanB,EAAI4O,YAAY/N,GAAG,CAAC,iBAAiBb,EAAI6O,oBAAoB,IAAI,IAAI,IAAI,IAC3lD,EAAkB,G,wBCDlB,EAAS,WAAa,IAAI7O,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACJ,EAAIW,GAAG,6BAA6BP,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAkB,eAAE+N,WAAW,mBAAmBrM,YAAY,CAAC,MAAQ,QAAQd,MAAM,CAAC,SAAsC,IAA3BZ,EAAImB,YAAYxE,QAAckE,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAIC,EAAgBC,MAAMnS,UAAU+P,OAAO7P,KAAK+R,EAAOG,OAAOvG,SAAQ,SAASjK,GAAG,OAAOA,EAAEyQ,YAAWvM,KAAI,SAASlE,GAAG,IAAI0E,EAAM,WAAY1E,EAAIA,EAAE0Q,OAAS1Q,EAAEO,MAAM,OAAOmE,KAAOnD,EAAIoP,eAAeN,EAAOG,OAAOI,SAAWN,EAAgBA,EAAc,MAAM,CAAC3O,EAAG,SAAS,CAACQ,MAAM,CAAC,MAAQ,KAAK,CAACZ,EAAIW,GAAG,qBAAqBX,EAAIsP,GAAItP,EAAe,aAAE,SAASmI,EAAKoH,GAAO,OAAOnP,EAAG,SAAS,CAACd,IAAIiQ,EAAMC,SAAS,CAAC,MAAQrH,IAAO,CAACnI,EAAIW,GAAGX,EAAIyP,GAAGtH,UAAY,SAAUnI,EAAkB,eAAEI,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,SAAS,CAACE,YAAY,2BAA2BM,MAAM,CAAC,UAAYZ,EAAIoP,gBAAgBvO,GAAG,CAAC,MAAQb,EAAI0P,YAAY,CAAC1P,EAAIW,GAAG,kBAAkBP,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,kBAAkB,CAACQ,MAAM,CAAC,QAAUZ,EAAI2P,aAAa,eAAe,CAAC,CAACC,OAAQ,aAAcC,IAAK,SAAS,OAAS,QAAQ,WAAa7P,EAAI4O,YAAY/N,GAAG,CAAC,UAAY,SAASiO,GAAQ9O,EAAI8P,MAAQhB,OAAY,OAAO1O,EAAG,IAAI,CAACJ,EAAIW,GAAG,2DAC55C,EAAkB,GCDlB,G,oBAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACY,IAAI,SAAS,CAAChB,EAAI+P,GAAG,YAAY,OACjJ,EAAkB,G,qBCGtB,G,UAAA,CACE,KAAF,iBACE,MAAF,CACI,WAAJ,MACI,QAAJ,MACI,YAAJ,MACI,OAAJ,CAAM,QAAN,WACI,uBAAJ,CAAM,SAAN,EAAM,KAAN,SACI,OAAJ,CAAM,QAAN,SAEE,aAVF,WAYI,KAAJ,gBAEE,MAAF,CACI,WAAJ,CACM,QADN,SACA,GACQ,KAAR,sBAEM,MAAN,GAEI,QAAJ,CACM,QADN,SACA,GACQ,KAAR,wBACQ,KAAR,sBAEM,MAAN,IAGE,QA7BF,WA6BI,IAEJ,EAEA,KAFA,WACA,EACA,KADA,UACA,KADA,cACA,KADA,SACA,KADA,yBACA,KADA,OAEI,KAAJ,kBACA,iBACA,CAAM,KAAN,EAAM,QAAN,EAAM,YAAN,EAAM,OAAN,EAAM,uBAAN,EAAM,OAAN,IAGI,KAAJ,qCC3CwV,I,YCOpVC,GAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,GAAAA,G,QCPf,SAASC,GAAkBC,EAAM3G,GAE/B,IAAF,eACE,OAAF,kDAGA,QACE,KAAF,aACE,MAAF,iDACE,aAHF,WAKI,KAAJ,YAEE,KAPF,WAQI,MAAJ,CACM,eAAN,GACM,YAAN,aAGE,SAAF,CACI,YADJ,WAEM,OAAN,4BAEI,aAJJ,WAMM,IAAN,GACA,CAAQ,MAAR,QAAQ,MAAR,cACA,CAAQ,MAAR,MAAQ,MAAR,WAAQ,OAAR,UACA,CAAQ,MAAR,MAAQ,MAAR,cACA,CAAQ,MAAR,MAAQ,MAAR,cACA,CACQ,MAAR,uBACQ,MAAR,aACQ,UAAR,GACQ,OAAR,UAEA,CACQ,MAAR,SACQ,MAAR,OACQ,UAAR,QACQ,gBAAR,CAAU,UAAV,GACQ,OAAR,UAEA,CACQ,MAAR,aACQ,MAAR,cACQ,UAAR,QACQ,gBAAR,CAAU,UAAV,GACQ,OAAR,UAEA,CACQ,MAAR,YACQ,MAAR,kBACQ,UAAR,QACQ,gBAAR,CAAU,UAAV,GACQ,OAAR,WASM,OANN,wBACQ,EAAR,KACA,CAAU,MAAV,YAAU,MAAV,YAAU,UAAV,aACA,CAAU,MAAV,wBAAU,MAAV,iBAAU,UAAV,KAGA,IAGE,MAAF,CACI,YADJ,WACM,IAEN,mBACM,GAAN,+CAAM,CAKA,IAAN,mBACA,EADA,+BAEA,EAFA,6BAGA,EAHA,+BAIA,EAJA,+BAKA,EALA,+BAMA,EANA,oCAOA,EAPA,yBAQA,EARA,iBAWA,wBACQ,EAAR,uBACA,EADA,gCAEA,EAFA,oBAMM,KAAN,+BArBQ,KAAR,6BAwBE,QAAF,CACI,UADJ,WAEM,KAAN,mEAGE,WAAF,CAAI,eAAJ,KCjHoV,MCOhV,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIa,M,QClBX,GAAS,WAAa,IAAIvJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,0BAA0BM,MAAM,CAAC,GAAKZ,EAAImQ,SAAS,CAACnQ,EAAI+P,GAAG,YAAY,MACnM,GAAkB,G,aCYtB,KACA,IACE,KAAF,SACE,MAAF,CAEI,YAAJ,CAAM,KAAN,QACI,aAAJ,CAAM,KAAN,OAEI,IAAJ,CAAM,KAAN,QACI,MAAJ,CAAM,KAAN,QACI,IAAJ,CAAM,KAAN,QAEI,aAAJ,CAAM,KAAN,QAAM,SAAN,GAEI,aAAJ,CAAM,SAAN,IAEE,aAfF,WAgBI,IAAJ,EACI,KAAJ,6BACI,KAAJ,sCAII,KAAJ,UACI,KAAJ,mBAEE,QAzBF,WA0BI,KAAJ,8CAEE,cA5BF,kBA6BA,sBAEE,SAAF,CACI,OADJ,WACM,IACN,mCACM,MAAN,CAAQ,IAAR,EAAQ,MAAR,EAAQ,IAAR,KAGE,QAAF,CAMI,SANJ,SAMA,KAKM,IAAN,gCACA,sBACM,EAAN,qBAAQ,IAAR,sBAAY,EAAZ,KAAY,EAAZ,KAAQ,OAAR,cACM,IAAN,4CAEA,mBAEQ,EAAR,mCAAU,OAAV,mCAIM,KAAN,OACM,KAAN,eACM,OAAN,gBAKM,KAAN,oBACM,KAAN,wBAOI,iBArCJ,SAqCA,GAAM,IAAN,OACM,OAAN,oBACA,qBAAQ,OAAR,oBAAU,OAAV,mBAIM,EAAN,gCAAQ,IAAR,EAIA,UAJA,EAIA,MAJA,EAIA,QAJA,EAIA,IACA,sBACA,kBAAU,MAAV,qCAEA,GACU,EAAV,wBAAY,IAAZ,EAAY,MAAZ,EAAY,IAAZ,OAMA,oBACQ,OAAR,qBAAQ,CAAR,KACQ,OAAR,qBAAQ,CAAR,QAIE,MAAF,CACI,OAAJ,CACM,QADN,WACQ,IAAR,OAIA,gCACA,uCACU,IAAV,OAIU,OAHV,sBACY,EAAZ,MAEA,IACA,IACA,uBAEU,KAAV,oBAGM,MAAN,KCtIgV,MCO5U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI/P,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAGJ,EAAIoQ,cAAiBpQ,EAAIqQ,SAA0KjQ,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIW,GAAG,yBAAyBX,EAAIyP,GAAGzP,EAAIoQ,iBAAiBhQ,EAAG,IAAI,CAACJ,EAAIW,GAAG,0BAA0BP,EAAG,KAAK,CAACsB,YAAY,CAAC,aAAa,eAAe,CAAC1B,EAAIW,GAAGX,EAAIyP,GAAGzP,EAAIsQ,eAAetQ,EAAIW,GAAG,gCAAgCP,EAAG,OAAO,CAACE,YAAY,wBAAwBM,MAAM,CAAC,MAAS,WAAaZ,EAAIuQ,iBAAkB,CAACvQ,EAAIW,GAAG,kBAAkBP,EAAG,MAAM,CAACJ,EAAIW,GAAG,QAAQX,EAAIW,GAAG,gBAAgBP,EAAG,SAAS,CAACJ,EAAIW,GAAGX,EAAIyP,GAAGzP,EAAIwQ,wBAAwBxQ,EAAIW,GAAG,4DAA4DP,EAAG,UAAU,CAACQ,MAAM,CAAC,YAAcZ,EAAIyQ,mBAAmB,aAAezQ,EAAI0Q,oBAAoB,cAAe,GAAM7P,GAAG,CAAC,UAAYb,EAAIoO,gBAAgB,GAAn1BhO,EAAG,IAAI,CAACJ,EAAIW,GAAG,iJAAu0BX,EAAIO,GAAG,MACx+B,GAAkB,CAAC,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACJ,EAAIW,GAAG,+GAA+GP,EAAG,IAAI,CAACQ,MAAM,CAAC,KAAO,8CAA8C,CAACZ,EAAIW,GAAG,uDAAuDX,EAAIW,GAAG,aCGlX,I,UAAA,CACE,KAAF,cACE,aAFF,WAII,KAAJ,UACI,KAAJ,kBAEE,MAAF,sEACE,KARF,WAcI,MAAJ,CAAM,SAAN,oBAEE,SAAF,CACI,kBADJ,WAEM,OAAN,qEAEI,eAJJ,WAKM,IAAN,sBACM,OAAN,mBAGA,gEAFA,GAII,mBAXJ,WAYM,IAAN,iDACQ,cAAR,EACQ,OAAR,CAAU,WAAV,UAEA,oCACQ,cAAR,EACQ,YAAR,MAGM,OAAN,gBACA,yBACA,CACQ,OAAR,IACQ,WAAR,IACQ,OAAR,IACQ,mBAAR,EACQ,MAAR,CAAU,QAAV,kBAAU,aAAV,eAII,oBAhCJ,WAiCM,MAAN,CACA,uBAAQ,IAAR,iEAGI,eArCJ,WAwCM,OAAN,sCAGE,QAAF,CACI,YADJ,SACA,KACM,KAAN,OACM,KAAN,cAGM,EAAN,2CACA,aACU,EAAV,4GAIM,EAAN,wBAGE,MAAF,CACI,aADJ,SACA,GAAM,IACN,oBACA,OAGQ,KAAR,aAEA,eAEQ,KAAR,oBACQ,KAAR,iBAAU,QAAV,OAIE,WAAF,CAAI,OAAJ,MC7FqV,MCQjV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCPf,IACE,KAAF,YACE,MAAF,CACI,aAAJ,CAAM,KAAN,QACI,cAAJ,CAAM,KAAN,OACI,YAAJ,CAAM,KAAN,OAGI,IAAJ,CAAM,KAAN,QACI,MAAJ,CAAM,KAAN,QACI,IAAJ,CAAM,KAAN,QACI,MAAJ,CAAM,KAAN,OAAM,QAAN,UAGI,aAAJ,CAAM,SAAN,GACI,kBAAJ,CAAM,KAAN,QAAM,SAAN,IAEE,KAjBF,WAkBI,MAAJ,CACM,aAAN,EAGM,iBAAN,KACM,mBAAN,KACM,qBAAN,KAGM,oBAAN,KACM,WAAN,KAGE,SAAF,CACI,aADJ,WAGM,MAAN,uBAEI,YALJ,WAMM,QAAN,0BAGE,aAxCF,WA6CI,KAAJ,aAEI,KAAJ,gBACI,KAAJ,wBAEE,QAAF,CACI,YADJ,SACA,KAGM,KAAN,aACM,KAAN,qBAEI,SAPJ,SAOA,KAEM,EAAN,6CAEI,eAXJ,SAWA,GAEM,IAAN,aACM,IAAN,8BAAM,CAKA,IAAN,oBAEM,KAAN,6DACM,KAAN,6BACM,KAAN,oCAEI,gBAzBJ,SAyBA,GAAM,IAAN,OAEA,2BACQ,KAAR,yDACQ,KAAR,0BAEA,4BAGM,KAAN,mEACQ,EAAR,8BAAU,OAAV,mBAIM,KAAN,oCAGE,WAAF,CACI,WAAJ,GACI,OAAJ,GACI,YAAJ,GACI,MAAJ,OACI,KAAJ,OACI,MAAJ,SC9GmV,MCQ/U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,OAAO,CAAGN,EAAI2Q,kBAA6nB3Q,EAAI4Q,KAA9mBxQ,EAAG,MAAM,CAACE,YAAY,YAAY,CAAEN,EAAI6Q,YAAc7Q,EAAI8Q,YAAa1Q,EAAG,MAAM,CAACA,EAAG,aAAa,CAACE,YAAY,OAAOO,GAAG,CAAC,MAAQb,EAAI+Q,cAAc,KAAO/Q,EAAIgR,eAAe5Q,EAAG,aAAa,CAACQ,MAAM,CAAC,KAAO,eAAe,QAAU,YAAY,CAACR,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,YAAY,CAACS,GAAG,CAAC,MAAQb,EAAI+Q,cAAc,KAAO/Q,EAAIgR,gBAAgB,KAAMhR,EAAc,WAAEI,EAAG,eAAe,CAACQ,MAAM,CAAC,YAAcZ,EAAIiR,YAAY,UAAYjR,EAAIkG,cAAcrF,GAAG,CAAC,mBAAmB,SAASiO,GAAQ9O,EAAIkG,aAAa4I,GAAQ,MAAQ9O,EAAIkR,WAAW,MAAQ,SAASpC,GAAQ9O,EAAImR,YAAa,MAAUnR,EAAI4Q,MAAM,GAAG5Q,EAAI4Q,OAAkB5Q,EAAI2Q,kBAAyjG3Q,EAAI4Q,KAA1iGxQ,EAAG,MAAM,CAACE,YAAY,YAAY,CAAEN,EAAe,YAAEI,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,gBAAgB,CAACQ,MAAM,CAAC,MAAQZ,EAAIqB,MAAM,UAAYrB,EAAIoR,gBAAgB,WAAa,iEAAiEvQ,GAAG,CAAC,MAAQb,EAAIqR,YAAY,KAAOrR,EAAIgR,eAAe5Q,EAAG,aAAa,CAACE,YAAY,OAAOM,MAAM,CAAC,UAAYZ,EAAIoR,iBAAiBvQ,GAAG,CAAC,MAAQb,EAAIsR,sBAAsB,GAAGlR,EAAG,aAAa,CAACE,YAAY,cAAcM,MAAM,CAAC,KAAO,eAAe,QAAU,SAAS,CAACR,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACJ,EAAIW,GAAG,iBAAiBP,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAe,YAAE+N,WAAW,gBAAgBzN,YAAY,mBAAmBM,MAAM,CAAC,KAAO,WAAW,GAAK,gBAAgB4O,SAAS,CAAC,QAAUR,MAAMuC,QAAQvR,EAAIwR,aAAaxR,EAAIyR,GAAGzR,EAAIwR,YAAY,OAAO,EAAGxR,EAAe,aAAGa,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAI4C,EAAI1R,EAAIwR,YAAYG,EAAK7C,EAAOG,OAAO2C,IAAID,EAAKE,QAAuB,GAAG7C,MAAMuC,QAAQG,GAAK,CAAC,IAAI7D,EAAI,KAAKiE,EAAI9R,EAAIyR,GAAGC,EAAI7D,GAAQ8D,EAAKE,QAASC,EAAI,IAAI9R,EAAIwR,YAAYE,EAAIK,OAAO,CAAClE,KAAYiE,GAAK,IAAI9R,EAAIwR,YAAYE,EAAI3R,MAAM,EAAE+R,GAAKC,OAAOL,EAAI3R,MAAM+R,EAAI,UAAW9R,EAAIwR,YAAYI,MAASxR,EAAG,QAAQ,CAACE,YAAY,mBAAmBM,MAAM,CAAC,IAAM,iBAAiB,CAACZ,EAAIW,GAAG,oBAAoBP,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAqB,kBAAE+N,WAAW,sBAAsBzN,YAAY,mBAAmBM,MAAM,CAAC,KAAO,WAAW,GAAK,qBAAqB4O,SAAS,CAAC,QAAUR,MAAMuC,QAAQvR,EAAIoB,mBAAmBpB,EAAIyR,GAAGzR,EAAIoB,kBAAkB,OAAO,EAAGpB,EAAqB,mBAAGa,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAI4C,EAAI1R,EAAIoB,kBAAkBuQ,EAAK7C,EAAOG,OAAO2C,IAAID,EAAKE,QAAuB,GAAG7C,MAAMuC,QAAQG,GAAK,CAAC,IAAI7D,EAAI,KAAKiE,EAAI9R,EAAIyR,GAAGC,EAAI7D,GAAQ8D,EAAKE,QAASC,EAAI,IAAI9R,EAAIoB,kBAAkBsQ,EAAIK,OAAO,CAAClE,KAAYiE,GAAK,IAAI9R,EAAIoB,kBAAkBsQ,EAAI3R,MAAM,EAAE+R,GAAKC,OAAOL,EAAI3R,MAAM+R,EAAI,UAAW9R,EAAIoB,kBAAkBwQ,MAASxR,EAAG,QAAQ,CAACE,YAAY,mBAAmBM,MAAM,CAAC,IAAM,sBAAsB,CAACZ,EAAIW,GAAG,wBAAwBP,EAAG,SAAS,CAACJ,EAAIW,GAAG,kBAAkBP,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAS,MAAE+N,WAAW,UAAUzN,YAAY,mBAAmBM,MAAM,CAAC,KAAO,QAAQ,GAAK,WAAW,KAAO,QAAQ,MAAQ,UAAU4O,SAAS,CAAC,QAAUxP,EAAIgS,GAAGhS,EAAIqB,MAAM,WAAWR,GAAG,CAAC,OAAS,SAASiO,GAAQ9O,EAAIqB,MAAM,aAAajB,EAAG,QAAQ,CAACE,YAAY,mBAAmBM,MAAM,CAAC,IAAM,aAAa,CAACZ,EAAIW,GAAG,cAAcP,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAS,MAAE+N,WAAW,UAAUzN,YAAY,mBAAmBM,MAAM,CAAC,KAAO,QAAQ,GAAK,WAAW,KAAO,QAAQ,MAAQ,UAAU4O,SAAS,CAAC,QAAUxP,EAAIgS,GAAGhS,EAAIqB,MAAM,WAAWR,GAAG,CAAC,OAAS,SAASiO,GAAQ9O,EAAIqB,MAAM,aAAajB,EAAG,QAAQ,CAACE,YAAY,mBAAmBM,MAAM,CAAC,IAAM,aAAa,CAACZ,EAAIW,GAAG,mBAAmB,GAAaX,EAAqB,kBAAEI,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,iBAAiB,CAACQ,MAAM,CAAC,QAAUZ,EAAIiS,oBAAoBpR,GAAG,CAAC,SAAWb,EAAIqR,YAAY,OAAS,SAASvC,GAAQ9O,EAAI2Q,mBAAoB,OAAW,GAAG3Q,EAAI4Q,KAAM5Q,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAAC8R,MAAM,CAAClS,EAAImS,gBAAgB,CAACnS,EAAIW,GAAGX,EAAIyP,GAAGzP,EAAIoS,gBAAgBpS,EAAI4Q,UACvtI,GAAkB,G,aCDlB,GAAS,WAAa,IAAI5Q,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,aAAa,CAACQ,MAAM,CAAC,KAAO,UAAU,CAACR,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACJ,EAAIW,GAAG,4BAA4BP,EAAG,SAAS,CAACE,YAAY,aAAaM,MAAM,CAAC,aAAa,SAASC,GAAG,CAAC,MAAQ,SAASiO,GAAQ,OAAO9O,EAAIqS,MAAM,YAAY,CAACrS,EAAIW,GAAG,qBAAqBP,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAAEJ,EAAIsS,eAAiBtS,EAAIuS,MAAMC,SAAUpS,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAM,iBAAiB,CAACZ,EAAIW,GAAG,mBAAmBP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAa,UAAE+N,WAAW,cAAczN,YAAY,eAAeM,MAAM,CAAC,GAAK,eAAe,KAAO,QAAQ4O,SAAS,CAAC,MAASxP,EAAa,WAAGa,GAAG,CAAC,MAAQ,SAASiO,GAAWA,EAAOG,OAAOwD,YAAqBzS,EAAI0S,UAAU5D,EAAOG,OAAOjQ,eAAegB,EAAIsS,eAAiBtS,EAAIuS,MAAMzM,QAAS1F,EAAG,MAAM,CAACA,EAAG,SAAS,CAACuN,MAAM,CAAC3O,MAAOgB,EAAoB,iBAAE4N,SAAS,SAAUC,GAAM7N,EAAI2S,iBAAiB9E,GAAKE,WAAW,qBAAqB,CAAC3N,EAAG,QAAQ,CAACE,YAAY,OAAOM,MAAM,CAAC,MAAQ,yBAAyB,CAACR,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAM,WAAW,CAACZ,EAAIW,GAAG,gBAAgBP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAa,UAAE+N,WAAW,cAAczN,YAAY,eAAeM,MAAM,CAAC,GAAK,UAAUC,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAIC,EAAgBC,MAAMnS,UAAU+P,OAAO7P,KAAK+R,EAAOG,OAAOvG,SAAQ,SAASjK,GAAG,OAAOA,EAAEyQ,YAAWvM,KAAI,SAASlE,GAAG,IAAI0E,EAAM,WAAY1E,EAAIA,EAAE0Q,OAAS1Q,EAAEO,MAAM,OAAOmE,KAAOnD,EAAIiE,UAAU6K,EAAOG,OAAOI,SAAWN,EAAgBA,EAAc,MAAM/O,EAAIsP,GAAItP,EAAiB,eAAE,SAASmI,EAAKoH,GAAO,OAAOnP,EAAG,SAAS,CAACd,IAAIiQ,EAAMC,SAAS,CAAC,MAAQD,EAAQ,IAAI,CAACvP,EAAIW,GAAG,+BAA+BX,EAAIyP,GAAGtH,GAAM,mCAAkC,KAAK/H,EAAG,QAAQ,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAM,WAAW,CAACZ,EAAIW,GAAG,cAAcP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAW,QAAE+N,WAAW,YAAYzN,YAAY,eAAeM,MAAM,CAAC,GAAK,UAAUC,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAIC,EAAgBC,MAAMnS,UAAU+P,OAAO7P,KAAK+R,EAAOG,OAAOvG,SAAQ,SAASjK,GAAG,OAAOA,EAAEyQ,YAAWvM,KAAI,SAASlE,GAAG,IAAI0E,EAAM,WAAY1E,EAAIA,EAAE0Q,OAAS1Q,EAAEO,MAAM,OAAOmE,KAAOnD,EAAIkE,QAAQ4K,EAAOG,OAAOI,SAAWN,EAAgBA,EAAc,MAAM/O,EAAIsP,GAAItP,EAAiB,eAAE,SAASmI,EAAKoH,GAAO,OAAOnP,EAAG,SAAS,CAACd,IAAIiQ,EAAMC,SAAS,CAAC,MAAQD,EAAQ,IAAI,CAACvP,EAAIW,GAAG,+BAA+BX,EAAIyP,GAAGtH,GAAM,mCAAkC,OAAO/H,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAM,WAAW,CAACZ,EAAIW,GAAG,gBAAgBP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAW,QAAE+N,WAAW,YAAYzN,YAAY,eAAeM,MAAM,CAAC,GAAK,UAAUC,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAIC,EAAgBC,MAAMnS,UAAU+P,OAAO7P,KAAK+R,EAAOG,OAAOvG,SAAQ,SAASjK,GAAG,OAAOA,EAAEyQ,YAAWvM,KAAI,SAASlE,GAAG,IAAI0E,EAAM,WAAY1E,EAAIA,EAAE0Q,OAAS1Q,EAAEO,MAAM,OAAOmE,KAAOnD,EAAImE,QAAQ2K,EAAOG,OAAOI,SAAWN,EAAgBA,EAAc,MAAM/O,EAAIsP,GAAItP,EAAiB,eAAE,SAASmI,EAAKoH,GAAO,OAAOnP,EAAG,SAAS,CAACd,IAAIiQ,EAAMC,SAAS,CAAC,MAAQD,EAAQ,IAAI,CAACvP,EAAIW,GAAG,+BAA+BX,EAAIyP,GAAGtH,GAAM,mCAAkC,KAAK/H,EAAG,QAAQ,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAM,WAAW,CAACZ,EAAIW,GAAG,gBAAgBP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAW,QAAE+N,WAAW,YAAYzN,YAAY,eAAeM,MAAM,CAAC,GAAK,UAAUC,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAIC,EAAgBC,MAAMnS,UAAU+P,OAAO7P,KAAK+R,EAAOG,OAAOvG,SAAQ,SAASjK,GAAG,OAAOA,EAAEyQ,YAAWvM,KAAI,SAASlE,GAAG,IAAI0E,EAAM,WAAY1E,EAAIA,EAAE0Q,OAAS1Q,EAAEO,MAAM,OAAOmE,KAAOnD,EAAIoE,QAAQ0K,EAAOG,OAAOI,SAAWN,EAAgBA,EAAc,MAAM/O,EAAIsP,GAAItP,EAAiB,eAAE,SAASmI,EAAKoH,GAAO,OAAOnP,EAAG,SAAS,CAACd,IAAIiQ,EAAMC,SAAS,CAAC,MAAQD,EAAQ,IAAI,CAACvP,EAAIW,GAAG,+BAA+BX,EAAIyP,GAAGtH,GAAM,mCAAkC,SAAS/H,EAAG,QAAQ,CAACE,YAAY,OAAOM,MAAM,CAAC,MAAQ,wBAAwB,CAACR,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAM,cAAc,CAACZ,EAAIW,GAAG,YAAYP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAc,WAAE+N,WAAW,eAAezN,YAAY,eAAeM,MAAM,CAAC,GAAK,aAAaC,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAIC,EAAgBC,MAAMnS,UAAU+P,OAAO7P,KAAK+R,EAAOG,OAAOvG,SAAQ,SAASjK,GAAG,OAAOA,EAAEyQ,YAAWvM,KAAI,SAASlE,GAAG,IAAI0E,EAAM,WAAY1E,EAAIA,EAAE0Q,OAAS1Q,EAAEO,MAAM,OAAOmE,KAAOnD,EAAIgE,WAAW8K,EAAOG,OAAOI,SAAWN,EAAgBA,EAAc,MAAM/O,EAAIsP,GAAItP,EAAiB,eAAE,SAASmI,EAAKoH,GAAO,OAAOnP,EAAG,SAAS,CAACd,IAAIiQ,EAAMC,SAAS,CAAC,MAAQD,EAAQ,IAAI,CAACvP,EAAIW,GAAG,+BAA+BX,EAAIyP,GAAGtH,GAAM,mCAAkC,UAAU,GAAG/H,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAM,YAAY,CAACZ,EAAIW,GAAG,oBAAoBP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAc,WAAE+N,WAAW,eAAezN,YAAY,eAAeM,MAAM,CAAC,GAAK,WAAWC,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAIC,EAAgBC,MAAMnS,UAAU+P,OAAO7P,KAAK+R,EAAOG,OAAOvG,SAAQ,SAASjK,GAAG,OAAOA,EAAEyQ,YAAWvM,KAAI,SAASlE,GAAG,IAAI0E,EAAM,WAAY1E,EAAIA,EAAE0Q,OAAS1Q,EAAEO,MAAM,OAAOmE,KAAOnD,EAAIqE,WAAWyK,EAAOG,OAAOI,SAAWN,EAAgBA,EAAc,MAAM/O,EAAIsP,GAAItP,EAAiB,eAAE,SAASmI,EAAKoH,GAAO,OAAOnP,EAAG,SAAS,CAACd,IAAIiQ,EAAMC,SAAS,CAAC,MAAQD,EAAQ,IAAI,CAACvP,EAAIW,GAAG,2BAA2BX,EAAIyP,GAAGtH,GAAM,+BAA8B,KAAK/H,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACE,YAAY,mBAAmBoB,YAAY,CAAC,cAAc,UAAUd,MAAM,CAAC,IAAM,sBAAsB,CAACZ,EAAIW,GAAG,6BAA6BP,EAAG,KAAK,CAACJ,EAAIW,GAAG,QAAQP,EAAG,MAAM,CAACJ,EAAIW,GAAG,QAAQX,EAAIW,GAAG,aAAaP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAqB,kBAAE+N,WAAW,sBAAsBzN,YAAY,mBAAmBM,MAAM,CAAC,GAAK,oBAAoB,KAAO,YAAY4O,SAAS,CAAC,QAAUR,MAAMuC,QAAQvR,EAAI2E,mBAAmB3E,EAAIyR,GAAGzR,EAAI2E,kBAAkB,OAAO,EAAG3E,EAAqB,mBAAGa,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAI4C,EAAI1R,EAAI2E,kBAAkBgN,EAAK7C,EAAOG,OAAO2C,IAAID,EAAKE,QAAuB,GAAG7C,MAAMuC,QAAQG,GAAK,CAAC,IAAI7D,EAAI,KAAKiE,EAAI9R,EAAIyR,GAAGC,EAAI7D,GAAQ8D,EAAKE,QAASC,EAAI,IAAI9R,EAAI2E,kBAAkB+M,EAAIK,OAAO,CAAClE,KAAYiE,GAAK,IAAI9R,EAAI2E,kBAAkB+M,EAAI3R,MAAM,EAAE+R,GAAKC,OAAOL,EAAI3R,MAAM+R,EAAI,UAAW9R,EAAI2E,kBAAkBiN,aAAgB,GAAI5R,EAAIsS,eAAiBtS,EAAIuS,MAAMK,SAAUxS,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIW,GAAG,qBAAqBP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAM,YAAY,CAACZ,EAAIW,GAAG,iBAAiBP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAY,SAAE+N,WAAW,aAAazN,YAAY,eAAeM,MAAM,CAAC,GAAK,WAAWC,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAIC,EAAgBC,MAAMnS,UAAU+P,OAAO7P,KAAK+R,EAAOG,OAAOvG,SAAQ,SAASjK,GAAG,OAAOA,EAAEyQ,YAAWvM,KAAI,SAASlE,GAAG,IAAI0E,EAAM,WAAY1E,EAAIA,EAAE0Q,OAAS1Q,EAAEO,MAAM,OAAOmE,KAAOnD,EAAIsE,SAASwK,EAAOG,OAAOI,SAAWN,EAAgBA,EAAc,MAAM/O,EAAIsP,GAAItP,EAAiB,eAAE,SAASmI,EAAKoH,GAAO,OAAOnP,EAAG,SAAS,CAACd,IAAIiQ,EAAMC,SAAS,CAAC,MAAQD,EAAQ,IAAI,CAACvP,EAAIW,GAAG,2BAA2BX,EAAIyP,GAAGtH,GAAM,+BAA8B,KAAK/H,EAAG,MAAM,CAACE,YAAY,eAAeF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAM,cAAc,CAACZ,EAAIW,GAAG,eAAeP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAmB,gBAAE+N,WAAW,oBAAoBzN,YAAY,eAAeM,MAAM,CAAC,GAAK,aAAaC,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAIC,EAAgBC,MAAMnS,UAAU+P,OAAO7P,KAAK+R,EAAOG,OAAOvG,SAAQ,SAASjK,GAAG,OAAOA,EAAEyQ,YAAWvM,KAAI,SAASlE,GAAG,IAAI0E,EAAM,WAAY1E,EAAIA,EAAE0Q,OAAS1Q,EAAEO,MAAM,OAAOmE,KAAOnD,EAAIuE,gBAAgBuK,EAAOG,OAAOI,SAAWN,EAAgBA,EAAc,MAAM/O,EAAIsP,GAAItP,EAAiB,eAAE,SAASmI,EAAKoH,GAAO,OAAOnP,EAAG,SAAS,CAACd,IAAIiQ,EAAMC,SAAS,CAAC,MAAQD,EAAQ,IAAI,CAACvP,EAAIW,GAAG,2BAA2BX,EAAIyP,GAAGtH,GAAM,+BAA8B,OAAO/H,EAAG,KAAK,CAACJ,EAAIW,GAAG,sBAAsBP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,YAAY,CAACN,EAAIW,GAAG,mBAAmBP,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,eAAe,CAACQ,MAAM,CAAC,OAAS,GAAG,OAAQ,GAAO+M,MAAM,CAAC3O,MAAOgB,EAAiB,cAAE4N,SAAS,SAAUC,GAAM7N,EAAI6D,cAAcgK,GAAKE,WAAW,kBAAkB,CAAC/N,EAAIW,GAAG,SAASP,EAAG,eAAe,CAACQ,MAAM,CAAC,OAAS,GAAG,OAAQ,GAAM+M,MAAM,CAAC3O,MAAOgB,EAAiB,cAAE4N,SAAS,SAAUC,GAAM7N,EAAI6D,cAAcgK,GAAKE,WAAW,kBAAkB,CAAC/N,EAAIW,GAAG,UAAU,KAAKP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,YAAY,CAACN,EAAIW,GAAG,kBAAkBP,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,eAAe,CAACQ,MAAM,CAAC,OAAS,GAAG,MAAQZ,EAAI6S,QAAQnP,MAAMiK,MAAM,CAAC3O,MAAOgB,EAAoB,iBAAE4N,SAAS,SAAUC,GAAM7N,EAAI8S,iBAAiBjF,GAAKE,WAAW,qBAAqB,CAAC/N,EAAIW,GAAG,eAAeP,EAAG,eAAe,CAACQ,MAAM,CAAC,OAAS,GAAG,MAAQZ,EAAI6S,QAAQE,OAAOpF,MAAM,CAAC3O,MAAOgB,EAAoB,iBAAE4N,SAAS,SAAUC,GAAM7N,EAAI8S,iBAAiBjF,GAAKE,WAAW,qBAAqB,CAAC/N,EAAIW,GAAG,aAAa,KAAMX,EAAI8S,mBAAqB9S,EAAI6S,QAAQnP,KAAMtD,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAM,eAAe,CAACZ,EAAIW,GAAG,eAAeP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAmB,gBAAE+N,WAAW,oBAAoBzN,YAAY,eAAeM,MAAM,CAAC,GAAK,cAAcC,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAIC,EAAgBC,MAAMnS,UAAU+P,OAAO7P,KAAK+R,EAAOG,OAAOvG,SAAQ,SAASjK,GAAG,OAAOA,EAAEyQ,YAAWvM,KAAI,SAASlE,GAAG,IAAI0E,EAAM,WAAY1E,EAAIA,EAAE0Q,OAAS1Q,EAAEO,MAAM,OAAOmE,KAAOnD,EAAIwE,gBAAgBsK,EAAOG,OAAOI,SAAWN,EAAgBA,EAAc,MAAM/O,EAAIsP,GAAItP,EAAiB,eAAE,SAASmI,EAAKoH,GAAO,OAAOnP,EAAG,SAAS,CAACd,IAAIiQ,EAAMC,SAAS,CAAC,MAAQD,EAAQ,IAAI,CAACvP,EAAIW,GAAG,+BAA+BX,EAAIyP,GAAGtH,GAAM,mCAAkC,KAAK/H,EAAG,MAAM,CAACE,YAAY,iBAAkBN,EAAI8S,mBAAqB9S,EAAI6S,QAAQE,MAAO3S,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAM,gBAAgB,CAACZ,EAAIW,GAAG,WAAWP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAoB,iBAAE+N,WAAW,qBAAqBzN,YAAY,eAAeM,MAAM,CAAC,GAAK,eAAeC,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAIC,EAAgBC,MAAMnS,UAAU+P,OAAO7P,KAAK+R,EAAOG,OAAOvG,SAAQ,SAASjK,GAAG,OAAOA,EAAEyQ,YAAWvM,KAAI,SAASlE,GAAG,IAAI0E,EAAM,WAAY1E,EAAIA,EAAE0Q,OAAS1Q,EAAEO,MAAM,OAAOmE,KAAOnD,EAAIyE,iBAAiBqK,EAAOG,OAAOI,SAAWN,EAAgBA,EAAc,MAAM/O,EAAIsP,GAAItP,EAAiB,eAAE,SAASmI,EAAKoH,GAAO,OAAOnP,EAAG,SAAS,CAACd,IAAIiQ,EAAMC,SAAS,CAAC,MAAQD,EAAQ,IAAI,CAACvP,EAAIW,GAAG,+BAA+BX,EAAIyP,GAAGtH,GAAM,mCAAkC,KAAK/H,EAAG,QAAQ,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAM,aAAa,CAACZ,EAAIW,GAAG,eAAeP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAiB,cAAE+N,WAAW,kBAAkBzN,YAAY,eAAeM,MAAM,CAAC,GAAK,YAAYC,GAAG,CAAC,OAAS,SAASiO,GAAQ,IAAIC,EAAgBC,MAAMnS,UAAU+P,OAAO7P,KAAK+R,EAAOG,OAAOvG,SAAQ,SAASjK,GAAG,OAAOA,EAAEyQ,YAAWvM,KAAI,SAASlE,GAAG,IAAI0E,EAAM,WAAY1E,EAAIA,EAAE0Q,OAAS1Q,EAAEO,MAAM,OAAOmE,KAAOnD,EAAI0E,cAAcoK,EAAOG,OAAOI,SAAWN,EAAgBA,EAAc,MAAM/O,EAAIsP,GAAItP,EAAiB,eAAE,SAASmI,EAAKoH,GAAO,OAAOnP,EAAG,SAAS,CAACd,IAAIiQ,EAAMC,SAAS,CAAC,MAAQD,EAAQ,IAAI,CAACvP,EAAIW,GAAG,+BAA+BX,EAAIyP,GAAGtH,GAAM,mCAAkC,SAAS/H,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,cAAc,CAACN,EAAIW,GAAG,iHAAiHX,EAAI4Q,KAAKxQ,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAAEN,EAAIgT,SAAWhT,EAAIiT,QAAQC,MAAO9S,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,eAAe,CAACN,EAAIW,GAAGX,EAAIyP,GAAGzP,EAAIiT,QAAQC,YAAalT,EAAW,QAAEI,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACE,YAAY,iBAAiB,CAACF,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIW,GAAG,aAAaP,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAIyP,GAAGzP,EAAIiT,QAAQnN,cAAc1F,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIW,GAAG,QAAQP,EAAG,MAAM,CAACJ,EAAIW,GAAG,QAAQX,EAAIW,GAAG,SAASP,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAIyP,GAAGzP,EAAIiT,QAAQpN,WAAWsN,QAAQ,SAAS/S,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIW,GAAG,OAAOP,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAIyP,GAAGzP,EAAIiT,QAAQ5N,KAAOrF,EAAIiT,QAAQ5N,KAAK8N,QAAQ,GAAK,SAAS/S,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIW,GAAG,WAAWP,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAIyP,GAAGzP,EAAIiT,QAAQ3N,YAActF,EAAIiT,QAAQ3N,YAAY6N,QAAQ,GAAI,SAAS/S,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIW,GAAG,iBAAiBP,EAAG,KAAK,CAACJ,EAAIW,GAAG,+BAA+BX,EAAIyP,GAAGzP,EAAIiT,QAAQ/N,gBAAkBlF,EAAIiT,QAAQ/N,gBAAgBiO,QAAQ,GAAK,IAAI,sCAAsC/S,EAAG,MAAM,CAACJ,EAAIW,GAAG,iGAAiGP,EAAG,MAAM,CAACE,YAAY,YAAY,CAAEN,EAAIsS,eAAiBtS,EAAIuS,MAAMK,SAAUxS,EAAG,SAAS,CAACE,YAAY,0BAA0BM,MAAM,CAAC,UAAYZ,EAAIgT,SAASnS,GAAG,CAAC,MAAQb,EAAIoT,cAAc,CAACpT,EAAIW,GAAG,sDAAsDP,EAAG,SAAS,CAACE,YAAY,0BAA0BM,MAAM,CAAC,UAAYZ,EAAIgT,SAASnS,GAAG,CAAC,MAAQ,SAASiO,GAAQ9O,EAAIsS,cAAgB,KAAK,CAACtS,EAAIW,GAAG,yCAC5wb,GAAkB,G,gDCMtB,SAAS0S,GAAUlQ,GAEf,QAAIpB,EAAeI,IAAIgB,KAGfd,OAAOwK,OAAO1J,GAG1B,SAASmQ,GAASC,GAAoD,6DAAJ,GAAI,IAA7CC,oBAA6C,MAA9B,IAA8B,MAAzB5O,iBAAyB,MAAb,KAAa,EAGlE,OAAO2O,EAAI7H,WAAW8H,IAAiBD,EAAItO,MAAML,GAAW6O,OAAM,SAAAtL,GAAI,OAAKkL,GAAUlL,MAQzF,SAASuL,GAAYC,EAAGC,GAWpB,IARA,IAAMC,EAAiB7E,MAAM4E,EAAEjX,OAAS,GACnCmX,KAAK,MACLnR,KAAI,kBAAMqM,MAAM2E,EAAEhX,OAAS,GACvBmX,KAAK,SAKLrX,EAAI,EAAGA,GAAKkX,EAAEhX,OAAQF,GAAK,EAChCoX,EAAe,GAAGpX,GAAKA,EAM3B,IAAK,IAAIkB,EAAI,EAAGA,GAAKiW,EAAEjX,OAAQgB,GAAK,EAChCkW,EAAelW,GAAG,GAAKA,EAG3B,IAAK,IAAIA,EAAI,EAAGA,GAAKiW,EAAEjX,OAAQgB,GAAK,EAChC,IAAK,IAAIlB,EAAI,EAAGA,GAAKkX,EAAEhX,OAAQF,GAAK,EAAG,CACnC,IAAMsX,EAAYJ,EAAElX,EAAI,KAAOmX,EAAEjW,EAAI,GAAK,EAAI,EAC9CkW,EAAelW,GAAGlB,GAAK8G,KAAKyQ,IACxBH,EAAelW,GAAGlB,EAAI,GAAK,EAC3BoX,EAAelW,EAAI,GAAGlB,GAAK,EAC3BoX,EAAelW,EAAI,GAAGlB,EAAI,GAAKsX,GAI3C,OAAOF,EAAeD,EAAEjX,QAAQgX,EAAEhX,QAUtC,SAASsX,GAAWC,EAAiBC,GAIjC,IAJ8D,IAAf3K,EAAe,uDAAH,EAEvD4K,EAAa5K,EAAY,EACzB6K,EAAa,KAH6C,WAIrD5X,GACL,IAAM6X,EAASH,EAAa1X,GAC5B,GAAe,OAAX6X,EAGA,iBAEJ,IAAMC,EAAQhR,KAAKyQ,IAAL,MAAAzQ,KAAI,eAAQ2Q,EAAgBvR,KAAI,SAAA5E,GAAC,OAAI2V,GAAYY,EAAQvW,QACnEwW,EAAQH,IACRA,EAAaG,EACbF,EAAa5X,IAVZA,EAAI,EAAGA,EAAI0X,EAAaxX,OAAQF,IAAK,EAArCA,GAaT,OAAO4X,EAYX,SAASG,GAAcC,EAAYC,GAE/B,IAGIC,EAHEC,EAAmB,CAAC,iBAAkB,aAAc,WAAY,aAChEC,EAAgB,CAAC,SAAU,UAAW,UAAW,OAAQ,UAAW,KAGpEC,EAAY,SAACC,EAAK5Y,EAAM6Y,GAC1B,IAAMC,EAAeC,EAAe/Y,EAAKwG,KAAI,SAAA4Q,GAAG,OAAIA,EAAIwB,OACxD,IACIJ,EAAKM,EAAatS,KAAI,SAAAhD,GAAC,OAAIsD,EAAetD,EAAGqV,MAC/C,MAAO7H,GACL,OAAO,EAEX,OAAOwH,EAAGlB,OAAM,SAAAtQ,GAAG,OAAKd,OAAOwK,MAAM1J,OAGnCgS,EAAYlB,GAAWW,EAAkBH,GACzCW,EAAQnB,GAAWY,EAAeJ,GAExC,OAAkB,OAAdU,GAAsBL,EAAUK,EAAWT,GAAW,GAC/C,CACHrQ,WAAY8Q,EAAY,EACxBxQ,mBAAmB,GAGvByQ,GAASN,EAAUM,EAAOV,GAAW,GAC9B,CACHrQ,WAAY+Q,EAAQ,EACpBzQ,mBAAmB,GAIpB,KAIX,SAAS0Q,GAAyBZ,EAAYC,GAG1C,IAAMY,EAAgB,CAAC,QAAS,SAAU,WAAY,YAAa,gBAC7DC,EAAa,CAAC,QAAS,OACvBC,EAAa,CAAC,WAAY,MAAO,QAAS,MAAO,KAAM,MAAO,MAI9DC,EAAa,CAAC,KAAM,MAAO,YAAa,UAAW,WACnDC,EAAa,CAAC,KAAM,MAAO,YAAa,UAAW,WAEnDC,EAAYjB,EAAU,GACxB1Q,EAAaiQ,GAAWqB,EAAeb,GAC3C,GAAmB,OAAfzQ,GAAuBnB,EAAY8S,EAAU3R,IAAa,GAE1D,OADAA,GAAc,EACP,CAAEA,cAab,IARA,IAAM4R,EAAiBnB,EAAW1U,QAC5B8V,EAAO,CACT,CAAC,YAAaN,GACd,CAAC,UAAWC,GACZ,CAAC,UAAWC,GACZ,CAAC,UAAWC,IAEVI,EAAS,GACNrZ,EAAI,EAAGA,EAAIoZ,EAAKlZ,OAAQF,IAAK,sBACNoZ,EAAKpZ,GADC,GAC3BsZ,EAD2B,KACjBC,EADiB,KAE5BjB,EAAMd,GAAW+B,EAASJ,GAChC,GAAY,OAARb,EACA,OAAO,KAEXe,EAAOC,GAAYhB,EAAM,EAEzBa,EAAeb,GAAO,KAE1B,OAAOe,EASX,SAASG,GAAqB9B,EAAcO,GACxC,IAAMwB,EAAc,CAAC,OAAQ,cAAe,cAAe,UACrDC,EAAqB,CAAC,cAAe,SAAU,SAAU,iBAAkB,MAEjF,SAASC,EAAiBrB,EAAK5Y,GAC3B,IACIka,EADEpB,EAAeC,EAAe/Y,EAAKwG,KAAI,SAAA4Q,GAAG,OAAIA,EAAIwB,OAExD,IACIsB,EAAOpB,EAAarI,QAAO,SAAAzJ,GAAG,OAAY,OAARA,KAAcR,KAAI,SAAAQ,GAAG,OAAKA,KAC9D,MAAOgK,GACL,OAAO,EAEX,OAAOkJ,EAAK5C,OAAM,SAAAtQ,GAAG,OAAKd,OAAOwK,MAAM1J,MAG3C,IAAMmB,EAAW2P,GAAWiC,EAAa/B,EAAc,GACjD5P,EAAkB0P,GAAWkC,EAAoBhC,EAAc,GAE/DmC,EAAM,GAOZ,OANiB,OAAbhS,GAAqB8R,EAAiB9R,EAAUoQ,KAChD4B,EAAIhS,SAAWA,EAAW,GAEN,OAApBC,GAA4B6R,EAAiB7R,EAAiBmQ,KAC9D4B,EAAI/R,gBAAkBA,EAAkB,GAErC+R,EAQX,SAASC,GAAU9B,EAAYC,GAAuB,IAAZ8B,EAAY,uDAAH,EAQzCC,EAAUhC,EAAW9R,KAAI,SAAAwF,GAAI,OAAKA,EAAOA,EAAKuO,cAAgBvO,KACpEsO,EAAQ,GAAGtR,QAAQ,QAAS,IAE5B,IAAMwR,EAAcnC,GAAciC,EAAS/B,EAAW8B,GACtD,IAAKG,EACD,OAAO,KAEXF,EAAQE,EAAYtS,WAAa,GAAK,KACtC,IAAMuS,EAAkBvB,GAAyBoB,EAAS/B,GAC1D,IAAKkC,EACD,OAAO,KAGXha,OAAO0O,KAAKsL,GAAiB9M,SAAQ,SAACxK,GAClCmX,EAAQG,EAAgBtX,IAAQ,QAGpC,IAAMuX,EAAcZ,GAAqBQ,EAAS/B,GAElD,OAAIiC,GAAeC,EACRha,OAAOsO,OAAO,GAAIyL,EAAaC,EAAiBC,GAAe,IAEnE,KCzOX,SACA,KAEA,oBAEA,IACE,SAAF,EACE,QAAF,EACE,SAAF,GAGA,IACE,KAAF,eACE,aAFF,WAII,KAAJ,SACI,KAAJ,YAEE,QAPF,WAOI,IAAJ,OACI,SAAJ,2CACA,kBACQ,EAAR,mBAIE,MAAF,4BACE,KAfF,WAgBI,MAAJ,CACM,cAAN,GACM,YAAN,GAGM,aAAN,qCACM,iBAAN,GACM,iBAAN,KAGM,WAAN,KAGM,UAAN,8BACM,QAAN,gCAGM,QAAN,KACM,QAAN,KACM,WAAN,KACM,mBAAN,EAGM,SAAN,KACM,gBAAN,KAGM,gBAAN,KACM,iBAAN,KACM,cAAN,KACM,cAAN,OAGE,MAAF,CACI,YAAJ,CACM,WAAN,EACM,QAFN,WAEQ,IAAR,OAUA,gBAEU,IAAV,EAGY,EAFZ,mBAEA,mBAGA,yBAAc,OAAd,SAEU,EAAV,uBACU,IAAV,iCAAY,OAAZ,iBAEU,GAAV,KAEY,EAAZ,qBACA,mBACA,YAGY,IAAZ,wBACA,IACc,OAAd,YAEc,EAAd,iCACA,WAEA,CAKY,IAAZ,qCACY,EAAZ,2CACA,mBAAc,MAAd,2BAGQ,KAAR,2BACU,OAAV,GACU,UAAV,OAKE,SAAF,CACI,SADJ,WACM,IAEN,EAKA,KALA,iBACA,EAIA,KAJA,gBACA,EAGA,KAHA,iBACA,EAEA,KAFA,cACA,EACA,KADA,cAEA,GAAQ,cAAR,GACA,WAUM,OARN,aACQ,EAAR,QACQ,EAAR,mBACA,eACQ,EAAR,cACQ,EAAR,mBACQ,EAAR,iBAEA,QAGI,YAvBJ,WAuBM,IAEN,gFACM,GAAN,iCACQ,MAAR,CAAU,WAAV,GAEM,GAAN,4BACA,YACQ,IAAR,GAAU,UAAV,EAAU,QAAV,GAIQ,OAHR,YACU,OAAV,UAAY,QAAZ,EAAY,QAAZ,IAEA,EAEM,MAAN,IAEI,cAvCJ,WAuCM,IACN,kFACM,OAAN,kBACQ,WAAR,EACQ,kBAAR,EACQ,SAAR,EACQ,gBAAR,GACA,iBACA,gBAEI,QAjDJ,WAkDM,IAAN,2CACA,mCACM,OAAN,MAEI,OAtDJ,WAuDM,GAAN,aACQ,IACE,OAAV,sBACA,SACU,OAAV,WAAY,MAAZ,2CAGM,OAAN,cAEI,QAhEJ,WAiEM,IACE,OAAR,iCACA,SAEQ,OADA,QAAR,SACA,CAAU,MAAV,sCAIE,QAAF,CACI,YADJ,WAGM,IAAN,wBACA,GACQ,IAAR,wBACQ,MAAR,mBACQ,IAAR,QAEM,KAAN,sDACM,KAAN,iBAGE,WAAF,CACI,WAAJ,QACI,WAAJ,QACI,KAAJ,OACI,MAAJ,SC1NqV,MCQjV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI7W,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,aAAa,CAACY,IAAI,WAAWJ,MAAM,CAAC,QAAU,OAAO,MAAQ,GAAG,KAAO,eAAe,CAACR,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACQ,MAAM,CAAC,IAAM,sBAAsB,CAACZ,EAAIW,GAAG,6CAA6CP,EAAG,WAAW,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,UAAUzB,MAAOgB,EAAe,YAAE+N,WAAW,gBAAgBnN,MAAM,CAAC,GAAK,oBAAoB,KAAO,KAAK,YAAc,4BAA4B4O,SAAS,CAAC,MAASxP,EAAe,aAAGa,GAAG,CAAC,MAAQ,SAASiO,GAAWA,EAAOG,OAAOwD,YAAqBzS,EAAI8W,YAAYhI,EAAOG,OAAOjQ,WAAWgB,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIW,GAAGX,EAAIyP,GAAGzP,EAAIoS,YAAYpS,EAAI4Q,KAAKxQ,EAAG,MAAM,CAACE,YAAY,iDAAiD,CAAEN,EAAe,YAAEI,EAAG,MAAM,CAACE,YAAY,iEAAiEM,MAAM,CAAC,KAAO,WAAW,CAACR,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIW,GAAG,kBAAkBX,EAAI4Q,KAAK5Q,EAAI+P,GAAG,gBAAgB,KAAK,CAAC,cAAgB/P,EAAI+W,gBAAgB3W,EAAG,SAAS,CAACE,YAAY,uBAAuBO,GAAG,CAAC,MAAQb,EAAIgX,cAAc,CAAChX,EAAIW,GAAG,SAAS,QAAQ,IAC1qC,GAAkB,G,UCatB,SAASsW,GAAgBxR,EAAzB,GAA6D,QAAxByR,mBAAwB,MAAV,IAAU,EACnDC,EAAS5T,KAAK6T,MAAMF,EAAc,GACxC,MAAO,CAAC3T,KAAK8T,IAAI5R,EAAW0R,EAAQ,GAAI1R,EAAW0R,GAWvD,SAASG,GAAYC,EAArB,GAAqD,IAG7CjW,EACAC,EACAC,EAL6C,IAAxB0V,mBAAwB,MAAV,IAAU,EAC3CM,EAAcD,EAAKxU,MAAMjB,GACzB2V,EAAeF,EAAKxU,MAAMlB,GAIhC,GAAI2V,EAAa,OACOA,EAAYzX,MAAM,GADzB,sBACZuB,EADY,KACPC,EADO,KACAC,EADA,KAGbD,GAASA,EACTC,GAAOA,MACJ,KAAIiW,EAMP,MAAM,IAAIzU,MAAJ,+CAAkDuU,IALxD,IAAIzS,EADiB,EAER2S,EAAa1X,MAAM,GAFX,sBAEpBuB,EAFoB,KAEfwD,EAFe,KAGrBA,GAAOA,EAHc,MAINmS,GAAgBnS,EAAK,CAAEoS,gBAJjB,sBAIpB3V,EAJoB,KAIbC,EAJa,KASzB,GAAI0V,GAAgB1V,EAAMD,EAAS2V,EAC/B,MAAM,IAAIlU,MAAJ,qCAAwCkU,EAAYQ,mBAE9D,MAAO,CAAEpW,MAAKC,QAAOC,OCzCzB,QACE,KAAF,YACE,MAAF,CAAI,UAAJ,QACE,KAHF,WAII,MAAJ,CACM,YAAN,GACM,aAAN,EACM,QAAN,OAGE,QAAF,CACI,sBADJ,WACM,IAAN,OAEA,6DAAQ,QAAR,KACM,OAAN,mBAAQ,OAAR,MAAU,YAAV,kBAEI,gBANJ,SAMA,GAEM,QAAN,UAEI,cAVJ,SAUA,GAAM,IAAN,OAIM,KAAN,eACM,QAAN,WACA,kBAAQ,OAAR,mBAAU,IAAV,QAAc,EAAd,QAAc,EAAd,MAAU,MAAV,0DACA,kBAAQ,EAAR,iBACA,mBAAQ,EAAR,sCACA,oBAAQ,EAAR,mBAEI,YArBJ,WAuBM,IAAN,EACM,IACE,EAAR,6BACA,SAEQ,YADA,KAAR,sBAGA,UAIM,KAAN,WACM,KAAN,iBACM,KAAN,uBALQ,KAAR,6CAQE,WAAF,CAAI,UAAJ,UC1DmV,MCO/U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QClBX,GAAS,WAAa,IAAIxB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mEAAmE,CAACF,EAAG,SAAS,CAACE,YAAY,eAAeM,MAAM,CAAC,SAAWX,KAAK0X,eAAiB,GAAG9W,GAAG,CAAC,MAAQ,SAASiO,GAAQ,OAAO9O,EAAI4X,UAAU,MAAM,CAAC5X,EAAIW,GAAG,YAAYP,EAAG,OAAO,CAACJ,EAAIW,GAAG,wBAAwBX,EAAIyP,GAAGzP,EAAI6X,wBAAwB,YAAmC,OAAtB5X,KAAK0X,cAAuBvX,EAAG,OAAO,CAACJ,EAAIW,GAAG,YAAYX,EAAIyP,GAAGxP,KAAK0X,cAAgB,GAAG,OAAO3X,EAAIyP,GAAGxP,KAAK6X,QAAQnb,QAAQ,eAAeqD,EAAI4Q,KAAKxQ,EAAG,SAAS,CAACE,YAAY,yCAAyCM,MAAM,CAAC,MAAQ,qBAAqBC,GAAG,CAAC,MAAQb,EAAI+X,mBAAmB,CAAC/X,EAAIW,GAAG,yBAAyBP,EAAG,SAAS,CAACE,YAAY,eAAeM,MAAM,CAAC,SAAkC,OAAvBX,KAAK0X,eAA0B1X,KAAK0X,eAAiB1X,KAAK6X,QAAQnb,OAAS,GAAGkE,GAAG,CAAC,MAAQ,SAASiO,GAAQ,OAAO9O,EAAI4X,SAAS,MAAO,CAAC5X,EAAIW,GAAG,eACr7B,GAAkB,GCGtB,IACE,KAAF,gBACE,MAAF,YACE,KAHF,WAII,MAAJ,CAAM,cAAN,OAEE,QAAF,CACI,iBADJ,WAEM,KAAN,iBAEI,SAJJ,SAIA,GACA,0BACQ,KAAR,gBAEQ,KAAR,iBAEM,KAAN,wCAGE,SAAF,CACI,eADJ,WAEM,OAAN,iEAEI,uBAJJ,WAKM,IAAN,sBACM,IAAN,EACQ,MAAR,SAHM,IAKN,0BACM,MAAN,+ECjCuV,MCOnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QClBX,GAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,0BAA0B,CAACQ,MAAM,CAAC,KAAOZ,EAAIgY,eAAe,WAAa,SAAUja,GAAK,OAAOA,EAAEka,MAAQ,qBAAqB,EAAE,YAAc,8BAA8BtK,MAAM,CAAC3O,MAAOgB,EAAU,OAAE4N,SAAS,SAAUC,GAAM7N,EAAIkY,OAAOrK,GAAKE,WAAW,YAAY3N,EAAG,SAAS,CAACE,YAAY,kBAAkBO,GAAG,CAAC,MAAQb,EAAImY,eAAe,CAACnY,EAAIW,GAAG,mBAAmB,IAChf,GAAkB,G,sCCiBtB,IACE,KAAF,gBACE,WAAF,CAAI,sBAAJ,SACE,MAAF,CACI,UAAJ,CACM,KAAN,OACM,QAAN,KAEI,WAAJ,CACM,KAAN,OACM,QAAN,iEAEI,MAAJ,CACM,KAAN,OACM,UAAN,IAGE,KAjBF,WAkBI,MAAJ,CACM,OAAN,KACM,eAAN,KAGE,QAAF,CACI,aADJ,WACM,IAAN,OACA,iBACM,GAAN,YAAM,CAKA,IAAN,EACA,EACA,EACA,wCAAQ,OAAR,qBACM,GAAN,GAGQ,EAAR,QAAQ,EAAR,QAAQ,EAAR,MAHQ,IAAR,EAIA,YAAU,YAAV,IAJA,sBAIQ,EAJR,KAIQ,EAJR,SAKA,CACQ,IAAE,IAAV,EACA,gBAAY,YAAZ,IAAU,EADV,EACA,IAAU,EADV,EACA,MAAU,EADV,EACA,IACA,SAEU,YADA,KAAV,gDAGQ,GAAR,mBAEU,YADA,KAAV,uEAIM,KAAN,eAAQ,IAAR,EAAQ,MAAR,EAAQ,IAAR,SAzBQ,KAAR,yCA2BI,SA/BJ,WA+BM,IAAN,OACM,KAAN,kBACM,IAAN,4HACM,MAAN,GACA,kBACQ,GAAR,KACU,OAAV,SAEQ,MAAR,6BAEA,kBAGQ,EAAR,0CAAU,OAAV,iCAEA,kBAAQ,OAAR,8DAIE,MAAF,CAAI,OAAJ,4DC3FsV,MCOlV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QClBX,GAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,QAAQ,CAACE,YAAY,uBAAuBM,MAAM,CAAC,IAAM,gBAAgB,CAACZ,EAAIW,GAAG,mBAAmBP,EAAG,QAAQ,CAACsB,YAAY,CAAC,QAAU,IAAI,MAAQ,IAAI,OAAS,KAAKd,MAAM,CAAC,GAAK,cAAc,KAAO,OAAO,SAAW,GAAG,OAAS,yBAAyBC,GAAG,CAAC,OAAS,SAASiO,GAAQ,OAAO9O,EAAIoY,UAAUtJ,UAC1Z,GAAkB,G,mCCMtB,IACE,QAAF,CACI,UADJ,SACA,GAMM,IALA,IAGN,EACA,EAJA,OACA,iBAIA,oBACQ,IAAR,YACA,wBACU,EAAV,EAEU,EAAV,EAGM,GAAN,gBAAM,CAIA,IAAN,oCACM,OAAN,QAAM,CAAN,uBACQ,EAAR,sBACA,mBACQ,EAAR,mBACA,oBAEQ,EAAR,0BAVQ,EAAR,oFCxBmV,MCO/U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI9O,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACjC,KAAK,QAAQkC,QAAQ,eAAezB,MAAOgB,EAAO,IAAE+N,WAAW,MAAMrN,UAAU,CAAC,MAAO,KAAQJ,YAAY,oBAAoBM,MAAM,CAAC,KAAO,MAAM,YAAc,iBAAiB4O,SAAS,CAAC,MAASxP,EAAO,KAAGa,GAAG,CAAC,MAAQ,SAASiO,GAAWA,EAAOG,OAAOwD,YAAqBzS,EAAIwK,IAAIsE,EAAOG,OAAOjQ,MAAMqZ,SAAQ,KAAO,SAASvJ,GAAQ,OAAO9O,EAAIsY,mBAAmBlY,EAAG,SAAS,CAACE,YAAY,kBAAkBO,GAAG,CAAC,MAAQb,EAAIoY,YAAY,CAACpY,EAAIW,GAAG,YAClmB,GAAkB,GCUtB,IACE,KADF,WAEI,MAAJ,CAAM,IAAN,KAEE,QAAF,CACI,UADJ,WAEM,IAAN,OACA,6BAEA,gDACM,OAAN,QAAM,CAAN,8BACQ,EAAR,sBACA,mBACQ,EAAR,sBCxBkV,MCO9U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCRf,OAEA,IACE,KAAF,eACE,MAAF,CAEI,YAAJ,CACM,KAAN,OACM,QAAN,GAGI,YAAJ,CACM,KAAN,aACM,QAAN,OAGE,KAdF,WAeI,MAAJ,CAEM,gBAAN,GAGM,YAAN,EACM,kBAAN,EAGM,QAAN,GACM,cAAN,GAGM,YAAN,KACM,aAAN,KAGM,aAAN,EACM,mBAAN,EACM,MAAN,SAGM,mBAAN,EACM,mBAAN,KAGE,SAAF,CACI,YADJ,WAEM,OAAN,kEAGE,QAAF,CACI,MADJ,WAGM,KAAN,iBACM,KAAN,kBACM,KAAN,qBACM,KAAN,sBACM,KAAN,oBAEI,YATJ,SASA,GAAM,IAAN,uEACM,KAAN,UACM,KAAN,iBAEI,YAbJ,SAaA,GACM,KAAN,mBACM,KAAN,yBAEI,cAjBJ,SAiBA,KACM,KAAN,cACM,KAAN,eACM,KAAN,eAEI,kBAtBJ,SAsBA,GACM,KAAN,qBACM,KAAN,sBAEI,WA1BJ,SA0BA,KAEM,KAAN,qBACM,IAAN,GACQ,aAAR,iBACQ,cAAR,wBAEA,aAIM,KAAN,MACA,eACM,CACE,MAAR,kBACQ,OAAR,iBACQ,cAAR,GAEA,CACQ,YAAR,EACQ,MAAR,EACQ,MAAR,eAAU,aAAV,iBAGM,KAAN,UAGE,WAAF,CACI,UAAJ,QACI,YAAJ,GACI,cAAJ,GACI,UAAJ,GACI,aAAJ,GACI,UAAJ,GACI,SAAJ,KCtHqV,MCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCLf,IACE,KAAF,YACE,KAFF,WAGI,MAAJ,CAEM,kBAAN,KACM,mBAAN,KAGM,IAAN,KACM,MAAN,KACM,IAAN,KAGM,MAAN,KACM,YAAN,GAEM,mBAAN,IAGE,QAAF,CACI,oBADJ,SACA,KAAM,IACN,uCACA,WACA,oCACA,WAEA,kBAEQ,KAAR,sBAGM,KAAN,gBAEA,wBAaQ,KAAR,gCAXQ,KAAR,wBAEQ,KAAR,oBACA,EACA,EACA,CAAU,mBAAV,IAGQ,KAKF,KAAN,oBACM,KAAN,SAGI,aAjCJ,SAiCA,GAEM,KAAN,UACM,KAAN,cACM,KAAN,YAGE,WAAF,CACI,YAAJ,GACI,UAAJ,OACI,MAAJ,OACI,UAAJ,IAEE,WAAF,CAAI,SAAJ,SC/E8T,MCO1T,GAAY,eACd,GACA,EACAc,GACA,EACA,KACA,WACA,MAIa,M,QCRf8W,UAAY,CACRC,IAAKC,6DACLC,aAAc,CAAC,IAAIH,kBAAoBI,IAAI,CAAEA,gBAGjD,IAAIA,OAAI,CAAEC,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,OACpBC,OAAO,S,kCChBZ,yBAA6c,EAAG,G,kCCAhd,yBAAue,EAAG","file":"js/app.f6ef7368.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhewasMaker.vue?vue&type=style&index=0&id=a6ecca30&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhewasMaker.vue?vue&type=style&index=0&id=a6ecca30&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_vm._m(0),_c('hr'),_c('button',{directives:[{name:\"v-b-toggle\",rawName:\"v-v-b-toggle.instructions\",modifiers:{\"instructions\":true}}],staticClass:\"btn-link\"},[_vm._v(\"Instructions\")]),_c('b-collapse',{staticClass:\"mt-2\",attrs:{\"id\":\"instructions\"}},[_c('b-card',[_c('div',{staticClass:\"card-text\"},[_vm._v(\"\\n          This is a demonstration of loading GWAS results via the web browser, fetching only the\\n          data\\n          required for that region. It relies on four assumptions:\\n          \"),_c('ol',[_c('li',[_vm._v(\"Your data has been stored in a compressed format, and indexed using Tabix. The\\n              index file must be in the same path, with the suffix \"),_c('em',[_vm._v(\".tbi\")])]),_c('li',[_vm._v(\"The data is hosted in a place that is reachable by web browser (eg local files\\n              or a service such as S3)\\n            \")]),_c('li',[_vm._v(\"If using a remote URL, the host location must support byte range requests. (\"),_c('a',{attrs:{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests#Checking_if_a_server_supports_partial_requests\"}},[_vm._v(\"how\\n              to check\")]),_vm._v(\")\\n            \")]),_c('li',[_vm._v(\"Your file contains information required to draw a plot. Chromosome, position,\\n              ref, and alt alleles can be specified as either individual columns, or a SNP\\n              marker (eg \"),_c('code',[_vm._v(\"chr:pos_ref/alt\")]),_vm._v(\"); there must also be a p-value\\n              (or -log10 pvalue) for each SNP as a separate column. Beta, SE, and alt allele\\n              frequency information are optional, but will be used on the plot if provided.\\n              \"),_c('em',[_vm._v(\"Client-side plots cannot be generated from rsIDs.\")])])]),_c('p',[_vm._v(\"This service is designed to efficiently fetch only the data needed for the plot\\n            region of interest. Therefore, it cannot generate summary views that would require\\n            processing the entire file (eg Manhattan plots).\\n          \")]),_c('p',[_vm._v(\"\\n            LD and overlay information is based on a specific build (\"),_c('strong',[_vm._v(\"build GRCh37\")]),_vm._v(\"\\n            or \"),_c('strong',[_vm._v(\"build GRCh38\")]),_vm._v(\" are supported). Exercise caution when interpreting\\n            plots based on a GWAS with positions from a different build.\\n          \")]),_c('p',[_vm._v(\"\\n            Credible sets are\\n            \"),_c('a',{attrs:{\"href\":\"https://github.com/statgen/gwas-credible-sets/\"}},[_vm._v(\"calculated\")]),_vm._v(\" based on the\\n            p-values for the displayed region. At the moment this tool does not support\\n            uploading your own custom credible set annotations.\\n          \")])])])],1)],1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('gwas-toolbar',{attrs:{\"max_studies\":4},on:{\"config-ready\":_vm.receiveAssocOptions,\"select-range\":_vm.updateRegion}})],1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('plot-panes',{ref:\"plotWidget\",attrs:{\"dynamic_urls\":true,\"assoc_layout\":_vm.base_assoc_layout,\"assoc_sources\":_vm.base_assoc_sources,\"study_names\":_vm.study_names,\"has_credible_sets\":_vm.has_credible_sets,\"build\":_vm.build,\"chr\":_vm.chr,\"start\":_vm.start,\"end\":_vm.end}})],1)]),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',[_c('strong',[_vm._v(\"LocalZoom: Plot your own data with LocusZoom.js\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('footer',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"\\n         Copyright 2019 \"),_c('a',{attrs:{\"href\":\"https://github.com/statgen\"}},[_vm._v(\"The University of Michigan\\n        Center for Statistical Genetics\")]),_c('br')])])])}]\n\nexport { render, staticRenderFns }","const PORTAL_API_BASE_URL = 'https://portaldev.sph.umich.edu/api/v1/';\nconst LD_SERVER_BASE_URL = 'https://portaldev.sph.umich.edu/ld/';\n\nconst REGEX_POSITION = /(?:chr)?(\\w+)\\s*:\\s*(\\d+)/;\nconst REGEX_REGION = /(?:chr)?(\\w+)\\s*:\\s*(\\d+)-(\\d+)/;\n\n\nexport {\n    REGEX_REGION, REGEX_POSITION,\n    PORTAL_API_BASE_URL, LD_SERVER_BASE_URL,\n};\n","/**\n * Constant values used by GWAS parser\n */\n\nconst MISSING_VALUES = new Set(['', '.', 'NA', 'N/A', 'n/a', 'nan', '-nan', 'NaN', '-NaN', 'null', 'NULL', 'None', null]);\nconst REGEX_MARKER = /^(?:chr)?([a-zA-Z0-9]+?):(\\d+)[_:]?(\\w+)?[/:|]?([^_]+)?_?(.*)?/;\nconst REGEX_PVAL = /([\\d.-]+)([\\sxeE]*)([0-9-]*)/;\n\n\n/**\n * Utility helper that checks for the presence of a numeric value (incl 0),\n *  eg \"has column specified\"\n * @param num\n * @returns {boolean}\n */\nfunction has(num) {\n    return Number.isInteger(num);\n}\n\n/**\n * Convert all missing values to a standardized input form\n * Useful for columns like pvalue, where a missing value explicitly allowed\n */\nfunction missingToNull(values, nulls = MISSING_VALUES, placeholder = null) {\n    // TODO Make this operate on a single value; cache for efficiency?\n    return values.map(v => (nulls.has(v) ? placeholder : v));\n}\n\n/**\n * Parse a single marker, cleaning up values as necessary\n * @param {String} value\n * @param {boolean} test If called in testing mode, do not throw an exception\n * @returns {[string, number, string|null, string|null] | null} chr, pos, ref, alt (if match found)\n */\nfunction parseMarker(value, test = false) {\n    const match = value.match(REGEX_MARKER);\n    if (match) {\n        return match.slice(1);\n    }\n    if (!test) {\n        throw new Error('Could not understand marker format. Must be of format chr:pos or chr:pos_ref/alt');\n    } else {\n        return null;\n    }\n}\n\n/**\n * Parse (and validate) a given number, and return the -log10 pvalue.\n * @param value\n * @param {boolean} is_neg_log\n * @returns {number||null} The -log10 pvalue\n */\nfunction parsePvalToLog(value, is_neg_log = false) {\n    if (value === null) {\n        return value;\n    }\n    const val = +value;\n    if (is_neg_log) { // Take as is\n        return val;\n    }\n    // Regular pvalue: validate and convert\n    if (val < 0 || val > 1) {\n        throw new Error('p value is not in the allowed range');\n    }\n    //  0-values are explicitly allowed and will convert to infinity by design, as they often\n    //    indicate underflow errors in the input data.\n    if (val === 0) {\n        // Determine whether underflow is due to the source data, or value conversion\n        if (value === '0') {\n            // The source data is bad, so insert an obvious placeholder value\n            return Infinity;\n        }\n        // h/t @welchr: aggressively turn the underflowing string value into -log10 via regex\n        // Only do this if absolutely necessary, because it is a performance hit\n\n        let [, base, , exponent] = value.match(REGEX_PVAL);\n        base = +base;\n\n        if (exponent !== '') {\n            exponent = +exponent;\n        } else {\n            exponent = 0;\n        }\n        if (base === 0) {\n            return Infinity;\n        }\n        return -(Math.log10(+base) + +exponent);\n    }\n    return -Math.log10(val);\n}\n\nfunction parseAlleleFrequency({ freq, allele_count, n_samples, is_alt_effect = true }) {\n    if (freq !== undefined && allele_count !== undefined) {\n        throw new Error('Frequency and allele count options are mutually exclusive');\n    }\n\n    let result;\n    if (freq === undefined && (MISSING_VALUES.has(allele_count) || MISSING_VALUES.has(n_samples))) {\n        // Allele count parsing\n        return null;\n    }\n    if (freq === undefined && allele_count !== undefined) {\n        result = +allele_count / +n_samples / 2;\n    } else if (MISSING_VALUES.has(freq)) { // Frequency-based parsing\n        return null;\n    } else {\n        result = +freq;\n    }\n\n    // No matter how the frequency is specified, this stuff is always done\n    if (result < 0 || result > 1) {\n        throw new Error('Allele frequency is not in the allowed range');\n    }\n    if (!is_alt_effect) { // Orient the frequency to the alt allele\n        return 1 - result;\n    }\n    return result;\n}\n\nexport {\n    MISSING_VALUES, REGEX_MARKER,\n    missingToNull as _missingToNull,\n    has,\n    // Exports for unit testing\n    parseAlleleFrequency,\n    parseMarker,\n    parsePvalToLog,\n};\n","import {\n    MISSING_VALUES,\n    has,\n    parseAlleleFrequency,\n    parseMarker,\n    parsePvalToLog,\n} from './parser_utils';\n\n\n/**\n * Specify how to parse a GWAS file, given certain column information.\n * Outputs an object with fields in portal API format.\n * @param [marker_col]\n * @param [chrom_col]\n * @param [pos_col]\n * @param [ref_col]\n * @param [alt_col]\n * @param pvalue_col\n * @param [beta_col]\n * @param [stderr_beta_col]\n * @param [allele_freq_col]\n * @param [allele_count_col]\n * @param [n_samples_col]\n * @param [is_alt_effect=true]\n * @param [is_neg_log_pvalue=false]\n * @param [delimiter='\\t']\n * @return {function(*): {chromosome: *, position: number, ref_allele: *,\n *          log_pvalue: number, variant: string}}\n */\nfunction makeParser(\n    {\n        // Required fields\n        marker_col, // position\n        chrom_col,\n        pos_col,\n        ref_col,\n        alt_col,\n        pvalue_col, // pvalue\n        // Optional fields\n        beta_col,\n        stderr_beta_col,\n        allele_freq_col, // Frequency: given directly, OR in terms of counts\n        allele_count_col,\n        n_samples_col,\n        is_alt_effect = true, // whether effect allele is oriented towards alt\n        is_neg_log_pvalue = false,\n        delimiter = '\\t',\n    } = {},\n) {\n    // Column IDs should be 1-indexed (human friendly)\n    if (has(marker_col) && has(chrom_col) && has(pos_col)) {\n        throw new Error('Must specify either marker OR chr + pos');\n    }\n    if (!(has(marker_col) || (has(chrom_col) && has(pos_col)))) {\n        throw new Error('Must specify how to locate marker');\n    }\n\n    if (has(allele_count_col) && has(allele_freq_col)) {\n        throw new Error('Allele count and frequency options are mutually exclusive');\n    }\n    if (has(allele_count_col) && !has(n_samples_col)) {\n        throw new Error('To calculate allele frequency from counts, you must also provide n_samples');\n    }\n\n\n    return (line) => {\n        const fields = line.split(delimiter);\n        let chr;\n        let pos;\n        let ref;\n        let alt;\n\n        let freq;\n        let alt_allele_freq = null;\n        let allele_count;\n        let n_samples;\n\n        if (has(marker_col)) {\n            [chr, pos, ref, alt] = parseMarker(fields[marker_col - 1], false);\n        } else if (has(chrom_col) && has(pos_col)) {\n            chr = fields[chrom_col - 1].replace(/^chr/g, '');\n            pos = fields[pos_col - 1];\n        } else {\n            throw new Error('Must specify how to parse file');\n        }\n\n        if (has(ref_col)) {\n            ref = fields[ref_col - 1];\n        }\n\n        if (has(alt_col)) {\n            alt = fields[alt_col - 1];\n        }\n\n        if (MISSING_VALUES.has(ref)) {\n            ref = null;\n        }\n        if (MISSING_VALUES.has(alt)) {\n            alt = null;\n        }\n\n        const log_pval = parsePvalToLog(fields[pvalue_col - 1], is_neg_log_pvalue);\n        ref = ref || null;\n        alt = alt || null;\n\n        if (has(allele_freq_col)) {\n            freq = fields[allele_freq_col - 1];\n        }\n        if (has(allele_count_col)) {\n            allele_count = fields[allele_count_col - 1];\n            n_samples = fields[n_samples_col - 1];\n        }\n        const beta = has(beta_col) ? +fields[beta_col - 1] : null;\n        const stderr_beta = has(stderr_beta_col) ? +fields[stderr_beta_col - 1] : null;\n\n        if (allele_freq_col || allele_count_col) {\n            alt_allele_freq = parseAlleleFrequency({\n                freq,\n                allele_count,\n                n_samples,\n                is_alt_effect,\n            });\n        }\n        const ref_alt = (ref && alt) ? `_${ref}/${alt}` : '';\n        return {\n            chromosome: chr,\n            position: +pos,\n            ref_allele: ref ? ref.toUpperCase() : null,\n            alt_allele: alt ? alt.toUpperCase() : null,\n            log_pvalue: log_pval,\n            variant: `${chr}:${pos}${ref_alt}`,\n            beta,\n            stderr_beta,\n            alt_allele_freq,\n        };\n    };\n}\n\n// Preconfigured parser with defaults for a standard file format\nconst standard_gwas_parser = makeParser({\n    chrom_col: 1,\n    pos_col: 2,\n    ref_col: 3,\n    alt_col: 4,\n    pvalue_col: 5,\n    beta_col: 6,\n    stderr_beta_col: 7,\n    is_neg_log_pvalue: true,\n    delimiter: '\\t',\n});\n\nexport { makeParser, standard_gwas_parser };\n","import LocusZoom from 'locuszoom';\nimport 'locuszoom/dist/ext/lz-credible-sets.min'; // Import for side effects (globally register helpers)\n\nimport { PORTAL_API_BASE_URL, LD_SERVER_BASE_URL } from './constants';\nimport { makeParser } from '../gwas/parsers';\n\nconst stateUrlMapping = Object.freeze({ chr: 'chrom', start: 'start', end: 'end' });\n\nLocusZoom.KnownDataSources.extend('AssociationLZ', 'TabixAssociationLZ', {\n    parseInit(init) {\n        this.params = init.params; // Used to create a parser\n        this.parser = makeParser(this.params);\n        this.reader = init.tabix_reader;\n    },\n    getCacheKey(state, chain, fields) {\n        return [state.chr, state.start, state.end].join('_');\n    },\n    fetchRequest(state, chain, fields) {\n        const self = this;\n        return new Promise((resolve, reject) => {\n            self.reader.fetch(state.chr, state.start, state.end, (data, err) => {\n                if (err) {\n                    reject(new Error('Could not read requested region. This may indicate an error with the .tbi index.'));\n                }\n                resolve(data);\n            });\n        });\n    },\n    normalizeResponse(data) {\n        // Some GWAS files will include variant rows, even if no pvalue can be calculated.\n        // Eg, EPACTS fills in \"NA\" for pvalue in this case. These rows are not useful for a\n        // scatter plot, and this data source should ignore them.\n        return data.map(this.parser).filter(item => !Number.isNaN(item.log_pvalue));\n    },\n});\n\n/**\n * A source name cannot contain special characters (this would break the layout)\n *\n * @param {string} display_name\n * @return {string}\n */\nfunction sourceName(display_name) {\n    return display_name.replace(/[^A-Za-z0-9_]/g, '_');\n}\n\n/**\n * Create customized panel layout(s) for a single association study, with functionality from all\n *   of the features selected.\n * @param {string} source_label\n * @param annotations\n * @param build\n * @return {*[]}\n */\nfunction createStudyLayout(\n    source_label,\n    annotations = { credible_sets: false, gwas_catalog: true },\n    build,\n) {\n    const new_panels = [];\n    const source_name = sourceName(source_label);\n\n    // Other namespaces won't be overridden; they will be reused as is.\n    const namespace = {\n        assoc: `assoc_${source_name}`,\n        credset: `credset_${source_name}`,\n        catalog: 'catalog',\n    };\n\n    const assoc_panel = LocusZoom.Layouts.get('panel', 'association', {\n        id: `association_${source_name}`,\n        title: { text: source_label },\n        namespace,\n    });\n    const assoc_layer = assoc_panel.data_layers[2]; // layer 1 = recomb rate\n    assoc_layer.label = {\n        text: '{{{{namespace[assoc]}}variant}}',\n        spacing: 12,\n        lines: { style: { 'stroke-width': '2px', stroke: '#333333', 'stroke-dasharray': '2px 2px' } },\n        filters: [\n            { field: 'lz_show_label', operator: '=', value: true },\n        ],\n        style: { 'font-weight': 'bold' },\n    };\n    assoc_layer.tooltip = LocusZoom.Layouts.get('tooltip', 'standard_association_with_label', { namespace });\n    const assoc_tooltip = assoc_layer.tooltip;\n\n    assoc_tooltip.html += '{{#if {{namespace[assoc]}}beta}}<br>&beta;: <strong>{{{{namespace[assoc]}}beta|scinotation|htmlescape}}</strong>{{/if}}';\n    assoc_tooltip.html += '{{#if {{namespace[assoc]}}stderr_beta}}<br>SE (&beta;): <strong>{{{{namespace[assoc]}}stderr_beta|scinotation|htmlescape}}</strong>{{/if}}';\n    assoc_tooltip.html += '{{#if {{namespace[assoc]}}alt_allele_freq}}<br>Alt. freq: <strong>{{{{namespace[assoc]}}alt_allele_freq|scinotation|htmlescape}} </strong>{{/if}}';\n\n    const dash_extra = []; // Build Display options widget & add to dashboard iff features selected\n    if (Object.values(annotations).some(item => !!item)) {\n        dash_extra.push({\n            type: 'display_options',\n            position: 'right',\n            color: 'blue',\n            // Below: special config specific to this widget\n            button_html: 'Display options...',\n            button_title: 'Control how plot items are displayed',\n            layer_name: 'associationpvalues',\n            default_config_display_name: 'Default view',\n            options: [],\n        });\n    }\n    const fields_extra = [\n        '{{namespace[assoc]}}beta',\n        '{{namespace[assoc]}}stderr_beta',\n        '{{namespace[assoc]}}alt_allele_freq',\n    ];\n    if (annotations.credible_sets) {\n        // Grab the options object from a pre-existing layout\n        const basis = LocusZoom.Layouts.get('panel', 'association_credible_set', { namespace });\n        dash_extra[0].options.push(...basis.dashboard.components.pop().options);\n        fields_extra.push('{{namespace[credset]}}posterior_prob', '{{namespace[credset]}}contrib_fraction', '{{namespace[credset]}}is_member');\n        assoc_tooltip.html += '<br>Posterior probability: <strong>{{{{namespace[credset]}}posterior_prob|scinotation}}</strong><br>';\n    }\n    if (annotations.gwas_catalog) {\n        // Grab the options object from a pre-existing layout\n        const basis = LocusZoom.Layouts.get('panel', 'association_catalog', { namespace });\n        dash_extra[0].options.push(...basis.dashboard.components.pop().options);\n        fields_extra.push('{{namespace[catalog]}}rsid', '{{namespace[catalog]}}trait', '{{namespace[catalog]}}log_pvalue');\n        assoc_tooltip.html += '{{#if {{namespace[catalog]}}rsid}}<br><a href=\"https://www.ebi.ac.uk/gwas/search?query={{{{namespace[catalog]}}rsid}}\" target=\"_new\">See hits in GWAS catalog</a>{{/if}}';\n    }\n    assoc_layer.fields.push(...fields_extra);\n    assoc_panel.dashboard.components.push(...dash_extra);\n\n    // After all custom options added, run mods through Layouts.get once more to apply namespacing\n    new_panels.push(LocusZoom.Layouts.get('panel', 'association', assoc_panel));\n    if (annotations.gwas_catalog) {\n        new_panels.push(LocusZoom.Layouts.get('panel', 'annotation_catalog', {\n            id: `catalog_${source_name}`,\n            namespace,\n            dashboard: { components: [] },\n            title: {\n                text: 'Hits in GWAS Catalog',\n                style: { 'font-size': '14px' },\n                x: 50,\n            },\n        }));\n    }\n    return new_panels;\n}\n\n/**\n * Create all the datasources needed to plot a specific study, from Tabixed data\n * @return Array Return an array of [name, source_config] entries\n */\nfunction createStudyTabixSources(label, tabix_reader, parser_options) {\n    const assoc_name = `assoc_${sourceName(label)}`;\n    const source_params = { ...parser_options, id_field: 'variant' };\n    return [\n        [assoc_name, ['TabixAssociationLZ', { tabix_reader, params: source_params }]],\n        [ // Always add a credible set source; it won't be called unless used in a layout\n            `credset_${sourceName(label)}`, [\n                'CredibleSetLZ',\n                { params: { fields: { log_pvalue: `${assoc_name}:log_pvalue` }, threshold: 0.95 } },\n            ],\n        ],\n    ];\n}\n\nfunction addPanels(plot, data_sources, panel_options, source_options) {\n    source_options.forEach(source => data_sources.add(...source));\n    panel_options.forEach((panel_layout) => {\n        panel_layout.y_index = -1; // Make sure genes track is always the last one\n        const panel = plot.addPanel(panel_layout);\n        panel.addBasicLoader();\n    });\n}\n\n/**\n * Get configuration for the set of common, non-study-specific datasources used by the plot.\n * Can optionally prepend study-specific sources for convenience when first creating the plot\n */\nfunction getBasicSources(study_sources = []) {\n    return [\n        ...study_sources,\n        ['catalog', ['GwasCatalogLZ', { url: `${PORTAL_API_BASE_URL}annotation/gwascatalog/results/` }]],\n        ['ld', ['LDLZ2', { url: LD_SERVER_BASE_URL, params: { source: '1000G', population: 'ALL' } }]],\n        ['gene', ['GeneLZ', { url: `${PORTAL_API_BASE_URL}annotation/genes/` }]],\n        ['recomb', ['RecombLZ', { url: `${PORTAL_API_BASE_URL}annotation/recomb/results/` }]],\n        ['constraint', ['GeneConstraintLZ', { url: 'https://gnomad.broadinstitute.org/api' }]],\n    ];\n}\n\nfunction getBasicLayout(initial_state = {}, study_panels = [], mods = {}) {\n    const panels = [\n        ...study_panels,\n        LocusZoom.Layouts.get('panel', 'genes', { proportional_height: 0.5 }),\n    ];\n\n    const dashboard = LocusZoom.Layouts.get('dashboard', 'standard_plot', { unnamespaced: true });\n    dashboard.components.push(LocusZoom.Layouts.get('dashboard_components', 'ldlz2_pop_selector'));\n    const extra = Object.assign({\n        state: initial_state,\n        dashboard,\n        panels,\n    }, mods);\n    return LocusZoom.Layouts.get('plot', 'standard_association', extra);\n}\n\n/**\n * Remove the `sourcename:` prefix from field names in the data returned by an LZ datasource\n *\n * This is a convenience method for writing external widgets (like tables) that subscribe to the\n *   plot; typically we don't want to have to redefine the table layout every time someone selects\n *   a different association study.\n * As with all convenience methods, it has limits: don't use it if the same field name is requested\n *   from two different sources!\n * @param {Object} data An object representing the fields for one row of data\n * @param {String} [prefer] Sometimes, two sources provide a field with same name. Specify which\n *  source will take precedence in the event of a conflict.\n */\nfunction deNamespace(data, prefer) {\n    return Object.keys(data).reduce((acc, key) => {\n        const new_key = key.replace(/.*?:/, '');\n        if (!Object.prototype.hasOwnProperty.call(acc, new_key)\n            || (!prefer || key.startsWith(prefer))) {\n            acc[new_key] = data[key];\n        }\n        return acc;\n    }, {});\n}\n\nexport {\n    // Basic definitions\n    getBasicSources, getBasicLayout,\n    createStudyTabixSources, createStudyLayout,\n    // Plot manipulation\n    sourceName, addPanels,\n    // General helpers\n    deNamespace,\n    // Constants\n    stateUrlMapping,\n};\n","/**\n * Activate basic metrics for LocalZoom deployments\n * This module is primarily imported for its side effects (things it does when the code is first\n *  parsed)\n * Library users will rarely need to use this; it is a convenience for tracking usage as an app\n *\n * This approach allows us to collect metrics without modifying code internals, so that reusable\n *  components don't need to incorporate metrics code. It takes advantage of the fact that dynamic\n *  urls modifies the URL, which is an externally visible action.\n */\n\n// Hack: create an event we can listen to for `history.pushState` (no native one available)\n// Ref: https://stackoverflow.com/a/25673911/1422268\nconst _wr = function _wr(type) {\n    const orig = window.history[type];\n    return function send_synthetic_event(...args) {\n        const rv = orig.apply(this, args);\n        const e = new Event(type);\n        e.arguments = args;\n        window.dispatchEvent(e);\n        return rv;\n    };\n};\n\n// Expose the count function so it can be called explicitly (eg for initial pageload).\nconst count_region_view = () => {\n    if (window.gtag) {\n        window.gtag('event', 'regionview');\n    }\n};\n\nif (window.gtag) { // Metrics are only activated when google analytics script is installed\n    // Monkey-patching wraps API calls to create a synthetic DOM event: icky, but necessary.\n    window.history.pushState = _wr('pushState');\n\n    // Count all region plots: back button = popstate; new view = pushState\n    // We don't track replaceState, because different pages do not agree on how to load the first\n    //  plot (if we forced one assumption, we might not count \"first pageview\" correctly)\n    //  Eg, a direct link (position already in url) wouldn't need to call replaceState.\n    window.addEventListener('popstate', count_region_view);\n    window.addEventListener('pushState', count_region_view);\n}\n\nexport default count_region_view;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-tabs',{staticClass:\"flex-nowrap\",staticStyle:{\"min-height\":\"1000px\"},attrs:{\"pills\":\"\",\"card\":\"\",\"vertical\":\"\",\"content-class\":\"scroll-extra\"},model:{value:(_vm.selected_tab),callback:function ($$v) {_vm.selected_tab=$$v},expression:\"selected_tab\"}},[_c('b-tab',{attrs:{\"title\":\"GWAS\"}},[(_vm.has_studies)?_c('lz-plot',{attrs:{\"show_loading\":true,\"base_layout\":_vm.assoc_layout,\"base_sources\":_vm.assoc_sources,\"chr\":_vm.chr,\"start\":_vm.start,\"end\":_vm.end,\"dynamic_urls\":_vm.dynamic_urls},on:{\"element_clicked\":_vm.onVariantClick,\"connected\":_vm.receivePlot}}):_c('div',{staticClass:\"placeholder-plot\",staticStyle:{\"display\":\"table\"}},[_c('span',{staticClass:\"text-center\",staticStyle:{\"display\":\"table-cell\",\"vertical-align\":\"middle\"}},[_vm._v(\"\\n              Please add a GWAS track to continue\\n            \")])])],1),_c('b-tab',{attrs:{\"disabled\":!_vm.has_studies || !_vm.allow_phewas}},[_c('template',{slot:\"title\"},[_c('span',{attrs:{\"title\":\"Only available for build GRCh37 datasets\"}},[_vm._v(\"PheWAS\")])]),_c('phewas-maker',{attrs:{\"variant_name\":_vm.tmp_phewas_variant,\"build\":_vm.build,\"your_study\":_vm.tmp_phewas_study,\"your_logpvalue\":_vm.tmp_phewas_logpvalue,\"allow_render\":_vm.selected_tab === _vm.PHEWAS_TAB}})],2),_c('b-tab',{attrs:{\"title\":\"Export\",\"disabled\":!_vm.has_studies}},[_c('export-data',{attrs:{\"has_credible_sets\":_vm.has_credible_sets,\"study_names\":_vm.study_names,\"table_data\":_vm.table_data},on:{\"requested-data\":_vm.subscribeFields}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('label',[_vm._v(\"Select a study:\\n        \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected_study),expression:\"selected_study\"}],staticStyle:{\"width\":\"20em\"},attrs:{\"disabled\":_vm.study_names.length === 0},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selected_study=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"(none selected)\")]),_vm._l((_vm.study_names),function(item,index){return _c('option',{key:index,domProps:{\"value\":item}},[_vm._v(_vm._s(item))])})],2)])])]),(_vm.selected_study)?_c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('button',{staticClass:\"btn btn-info float-right\",attrs:{\"disabled\":!_vm.selected_study},on:{\"click\":_vm.exportCSV}},[_vm._v(\"Download\")])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('tabulator-table',{attrs:{\"columns\":_vm.table_config,\"initial-sort\":[{column: 'log_pvalue', dir: 'desc'}],\"height\":\"300px\",\"table_data\":_vm.table_data},on:{\"connected\":function($event){_vm.table = $event}}})],1)])]):_c('p',[_vm._v(\"Please select a study to use the \\\"export\\\" feature.\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"table\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Tabulator from 'tabulator-tables';\nimport 'tabulator-tables/dist/css/tabulator.min.css';\n\nexport default {\n    name: 'TabulatorTable',\n    props: {\n        table_data: Array,\n        columns: Array,\n        initialSort: Array,\n        layout: { default: 'fitData' },\n        layoutColumnsOnNewData: { default: true, type: Boolean },\n        height: { default: '100%' },\n    },\n    beforeCreate() {\n        // DOM-manipulating widgets should store reference statically, not dynamically\n        this.tabulator = null;\n    },\n    watch: {\n        table_data: {\n            handler(value) {\n                this.tabulator.setData(value);\n            },\n            deep: true,\n        },\n        columns: { // Redefine the table\n            handler(value) {\n                this.tabulator.setColumns(value);\n                this.tabulator.setSort(value);\n            },\n            deep: true,\n        },\n    },\n    mounted() {\n        const {\n            table_data: data,\n            columns, initialSort, layout, layoutColumnsOnNewData, height,\n        } = this;\n        this.tabulator = new Tabulator(\n            this.$refs.table,\n            { data, columns, initialSort, layout, layoutColumnsOnNewData, height },\n        );\n        // Expose a reference to the raw table object, for advanced usages such as click events\n        this.$emit('connected', this.tabulator);\n    },\n};\n</script>\n\n<template>\n  <div>\n    <div ref=\"table\"><slot></slot></div>\n  </div>\n</template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabulatorTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabulatorTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabulatorTable.vue?vue&type=template&id=57b3834a&\"\nimport script from \"./TabulatorTable.vue?vue&type=script&lang=js&\"\nexport * from \"./TabulatorTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\n/**\n * A LocalZoom-specific export widget. This wraps creation of a fields array + table config based\n * on the currently selected dataset. It emits a fields list event\n */\n\nimport LocusZoom from 'locuszoom';\n\nimport { sourceName } from '../util/lz-helpers';\nimport TabulatorTable from './TabulatorTable.vue';\n\nfunction formatSciNotation(cell, params) {\n    // Tabulator cell formatter using sci notation\n    const value = cell.getValue();\n    return LocusZoom.TransformationFunctions.get('scinotation')(value);\n}\n\nexport default {\n    name: 'ExportData',\n    props: ['study_names', 'has_credible_sets', 'table_data'],\n    beforeCreate() {\n        // Reference DOM-manipulating pieces as static properties\n        this.table = null;\n    },\n    data() {\n        return {\n            selected_study: '',\n            export_type: 'top_hits',\n        };\n    },\n    computed: {\n        source_name() {\n            return sourceName(this.selected_study || '');\n        },\n        table_config() {\n            // How should the table display this set of fields? Determined once at component load.\n            const base = [\n                { title: 'Chrom', field: 'chromosome' },\n                { title: 'Pos', field: 'position', sorter: 'number' },\n                { title: 'Ref', field: 'ref_allele' },\n                { title: 'Alt', field: 'alt_allele' },\n                {\n                    title: '-log<sub>10</sub>(p)',\n                    field: 'log_pvalue',\n                    formatter: formatSciNotation,\n                    sorter: 'number',\n                },\n                {\n                    title: '&beta;',\n                    field: 'beta',\n                    formatter: 'money',\n                    formatterParams: { precision: 3 },\n                    sorter: 'number',\n                },\n                {\n                    title: 'SE(&beta;)',\n                    field: 'stderr_beta',\n                    formatter: 'money',\n                    formatterParams: { precision: 3 },\n                    sorter: 'number',\n                },\n                {\n                    title: 'Alt freq.',\n                    field: 'alt_allele_freq',\n                    formatter: 'money',\n                    formatterParams: { precision: 3 },\n                    sorter: 'number',\n                },\n            ];\n            if (this.has_credible_sets) {\n                base.push(\n                    { title: 'Cred. set', field: 'is_member', formatter: 'tickCross' },\n                    { title: 'Posterior probability', field: 'posterior_prob', formatter: formatSciNotation },\n                );\n            }\n            return base;\n        },\n    },\n    watch: {\n        source_name() {\n            // What data should this widget request from the plot?\n            const { source_name } = this;\n            if (!this.study_names.includes(this.selected_study)) {\n                // Reset logic: notify external widgets to remove any subscribers\n                this.$emit('requested-data', []);\n                return;\n            }\n            const fields = [\n                `assoc_${source_name}:chromosome`,\n                `assoc_${source_name}:position`,\n                `assoc_${source_name}:ref_allele`,\n                `assoc_${source_name}:alt_allele`,\n                `assoc_${source_name}:log_pvalue`,\n                `assoc_${source_name}:alt_allele_freq`,\n                `assoc_${source_name}:beta`,\n                `assoc_${source_name}:stderr_beta`,\n            ];\n\n            if (this.has_credible_sets) {\n                fields.push(\n                    `credset_${source_name}:is_member`,\n                    `credset_${source_name}:posterior_prob`,\n                );\n            }\n            // Side effect in computed: sketchy but convenient.\n            this.$emit('requested-data', fields);\n        },\n    },\n    methods: {\n        exportCSV() {\n            this.table.download('csv', `results_${this.source_name}.csv`);\n        },\n    },\n    components: { TabulatorTable },\n};\n</script>\n\n<template>\n<div>\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <label>Select a study:\n        <select style=\"width: 20em;\"\n            v-model=\"selected_study\" :disabled=\"study_names.length === 0\">\n          <option value=\"\">(none selected)</option>\n          <option v-for=\"(item, index) in study_names\" :value=\"item\" :key=\"index\">{{item}}</option>\n        </select>\n      </label>\n    </div>\n  </div>\n\n  <div v-if=\"selected_study\">\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <button class=\"btn btn-info float-right\"\n                :disabled=\"!selected_study\" @click=\"exportCSV\">Download</button>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <tabulator-table\n            :columns=\"table_config\" :initial-sort=\"[{column: 'log_pvalue', dir: 'desc'}]\"\n            height=\"300px\" :table_data=\"table_data\"\n            @connected=\"table = $event\" />\n      </div>\n    </div>\n  </div>\n  <p v-else>Please select a study to use the \"export\" feature.</p>\n</div>\n</template>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportData.vue?vue&type=template&id=3ca8543e&scoped=true&\"\nimport script from \"./ExportData.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ca8543e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"lz-container-responsive\",attrs:{\"id\":_vm.dom_id}},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n/**\n * A generic Vue component to wrap a LocusZoom instance\n *\n * This can handle any type of plot that LocusZoom supports, including multiple panels and\n *  custom datasources\n */\n\nimport LocusZoom from 'locuszoom';\nimport { plotUpdatesUrl, plotWatchesUrl } from 'locuszoom/dist/ext/lz-dynamic-urls.min';\n\nimport { stateUrlMapping } from '../util/lz-helpers';\n\nlet uid = 0; // Ensure that every component instance has a unique DOM id, for use by d3\nexport default {\n    name: 'LzPlot',\n    props: {\n        // The initial layout and datasources used to create this LZ instance.\n        base_layout: { type: Object },\n        base_sources: { type: Array },\n        // Plot region\n        chr: { type: String },\n        start: { type: Number },\n        end: { type: Number },\n\n        show_loading: { type: Boolean, default: false }, // Show loading indicators\n        // Change URL when plot updates. Only one plot on the page should use this.\n        dynamic_urls: { default: false },\n    },\n    beforeCreate() {\n        uid += 1;\n        this.dom_id = `lz-plot-${uid}`; // DOM element\n        this.plot_id = this.dom_id.replace(/-/g, '_'); // How to expose the plot instance globally\n\n        // This is important: plot must be assigned as a static property. If it were a field in\n        //  `data` , vue would recursively wrap it as an observable, and Really Bad Things Happen.\n        this.plot = null;\n        this.data_sources = null;\n    },\n    mounted() {\n        this.createLZ(this.base_layout, this.base_sources);\n    },\n    beforeDestroy() {\n        delete window[this.plot_id];\n    },\n    computed: {\n        region() { // Hack: make sure that all 3 region properties get updated atomically\n            const { chr, start, end } = this;\n            return { chr, start, end };\n        },\n    },\n    methods: {\n        /**\n         * Create an LZ plot\n         * @param {object} base_layout\n         * @param {Array[]} base_sources\n         */\n        createLZ(base_layout, base_sources) {\n            // Create and populate the plot\n            // The layout comes from properties assigned to a vue instance, which are automatically\n            //   wrapped (deeply) with Vue observable getters/setters. This can confuse LocusZoom,\n            //   so we will deep-copy to ensure this is just pure JS primitives\n            const layout = JSON.parse(JSON.stringify(base_layout));\n            const data_sources = new LocusZoom.DataSources();\n            base_sources.forEach(([name, config]) => data_sources.add(name, config));\n            const plot = LocusZoom.populate(`#${this.dom_id}`, data_sources, layout);\n\n            if (this.show_loading) {\n                // Add loading indicator to every panel if appropriate\n                plot.layout.panels.forEach(panel => plot.panels[panel.id].addBasicLoader());\n            }\n\n            // Save references to the plot for manipulation later\n            this.plot = plot;\n            this.data_sources = data_sources;\n            window[this.plot_id] = plot; // TODO: This fits existing usage patterns, but it's icky\n\n            // Expose events to things outside this component\n            // IMPORTANT: never consume this value in a way that would wrap it as an observable\n            //   (eg by assigning it to a field in `data`).\n            this.connectListeners(plot);\n            this.$emit('connected', plot, data_sources);\n        },\n        /**\n         * The component should re-emit (most) plot-level event hooks built in to LocusZoom\n         * @private\n         * @param plot\n         */\n        connectListeners(plot) {\n            Object.keys(plot.event_hooks)\n                .forEach(name => plot.on(name, event => this.$emit(name, event)));\n\n            // Also create a synthetic event not part of LZ, that makes it a little nicer to work\n            //  with region data. (by returning what was actually displayed, not what was requested)\n            plot.on('state_changed', (event) => {\n                // An interesting quirk of region changing in LZ: event data provides\n                //  the state requested (input), not final start/end (output)\n                // The event we echo should use final plot.state as source of truth\n                const { chr, start, end } = plot.state;\n                const position_changed = Object.keys(event.data)\n                    .some(key => ['chr', 'start', 'end'].includes(key));\n\n                if (position_changed) {\n                    this.$emit('region_changed', { chr, start, end });\n                }\n            });\n\n            // Changes in the plot can be reflected in the URL, and vice versa (eg browser back\n            //  button can go back to a previously viewed region).\n            if (this.dynamic_urls) {\n                plotUpdatesUrl(plot, stateUrlMapping);\n                plotWatchesUrl(plot, stateUrlMapping);\n            }\n        },\n    },\n    watch: {\n        region: {\n            handler() {\n                // FIXME: this component receives notifications of a value it changes, a design\n                //   quirk that risks infinite update loops\n                // Only apply new region information if it has changed\n                const region = Object.assign({}, this.region);\n                const diffs = Object.keys(region).reduce((acc, key) => {\n                    const new_val = region[key];\n                    if (new_val !== this.plot.state[key]) {\n                        acc[key] = new_val;\n                    }\n                    return acc;\n                }, {});\n                if (Object.keys(diffs).length) {\n                    // Only re-render if the passed-in state values would be different\n                    this.plot.applyState(diffs);\n                }\n            },\n            deep: true,\n        },\n    },\n};\n</script>\n\n<template>\n    <div>\n        <div :id=\"dom_id\" class=\"lz-container-responsive\"><slot></slot></div>\n    </div>\n</template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LzPlot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LzPlot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LzPlot.vue?vue&type=template&id=031bf482&\"\nimport script from \"./LzPlot.vue?vue&type=script&lang=js&\"\nexport * from \"./LzPlot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.variant_name || !_vm.rendered)?_c('p',[_vm._v(\"\\n    Please select a variant in order to generate a PheWAS plot. You can click on any scatter plot\\n    point in an association track.\\n  \")]):_c('div',[_c('h3',[_vm._v(\"Known PheWAS Results: \"+_vm._s(_vm.variant_name))]),_c('p',[_vm._v(\"\\n      In your study \"),_c('em',{staticStyle:{\"word-break\":\"break-word\"}},[_vm._v(_vm._s(_vm.your_study))]),_vm._v(\", this variant has a\\n      \"),_c('span',{staticClass:\"text-muted definition\",attrs:{\"title\":(\"p-value \" + _vm.display_pvalue)}},[_vm._v(\"\\n        -log\"),_c('sub',[_vm._v(\"10\")]),_vm._v(\" p-value of \"),_c('strong',[_vm._v(_vm._s(_vm.display_logpvalue))])]),_vm._v(\". Below are other\\n      results for comparison.\\n    \")]),_c('lz-plot',{attrs:{\"base_layout\":_vm.base_phewas_layout,\"base_sources\":_vm.base_phewas_sources,\"show_loading\":true},on:{\"connected\":_vm.receivePlot}})],1),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"\\n    PheWAS results are drawn from a large-scale analysis of the UK Biobank dataset, as described in\\n    \"),_c('a',{attrs:{\"href\":\"https://doi.org/10.1038/s41588-018-0184-y\"}},[_vm._v(\"Nature Genetics volume 50, pages 13351341 (2018)\")]),_vm._v(\".\\n  \")])}]\n\nexport { render, staticRenderFns }","<script>\nimport LocusZoom from 'locuszoom';\nimport LzPlot from './LzPlot.vue';\n\nexport default {\n    name: 'PhewasMaker',\n    beforeCreate() {\n        // LZ plots must be stored as static references, not observables\n        this.plot = null;\n        this.datasources = null;\n    },\n    props: ['variant_name', 'build', 'your_study', 'your_logpvalue', 'allow_render'],\n    data() {\n        // Track whether phewas tab was rendered at least once. Don't draw this plot if no one looks\n        // METHOD: 1. if allow_render true, then make initial plot\n        // Updates are based on a synthetic property\n\n        // allow_render || rendered (for lz-plot to show)\n        return { rendered: this.allow_render };\n    },\n    computed: {\n        display_logpvalue() {\n            return LocusZoom.TransformationFunctions.get('scinotation')(this.your_logpvalue);\n        },\n        display_pvalue() {\n            const log = this.your_logpvalue;\n            if (!Number.isFinite(log)) {\n                return 0;\n            }\n            return LocusZoom.TransformationFunctions.get('scinotation')(10 ** -log);\n        },\n        base_phewas_layout() {\n            const layer = LocusZoom.Layouts.get('data_layer', 'phewas_pvalues', {\n                unnamespaced: true,\n                y_axis: { min_extent: [0, 10] },\n            });\n            const panel = LocusZoom.Layouts.get('panel', 'phewas', {\n                unnamespaced: true,\n                data_layers: [layer],\n            });\n\n            return LocusZoom.Layouts.get(\n                'plot', 'standard_phewas',\n                {\n                    height: 250,\n                    min_height: 200,\n                    panels: [panel],\n                    responsive_resize: false,\n                    state: { variant: this.variant_name, genome_build: this.build },\n                },\n            );\n        },\n        base_phewas_sources() {\n            return [\n                ['phewas', ['PheWASLZ', { url: 'https://portaldev.sph.umich.edu/ukbb/v1/statistic/phewas/' }]],\n            ];\n        },\n        render_trigger() {\n            // HACK: A synthetic property that can be used to drive re-rendering.\n            // Useful in tabbed UIs, as a trigger for when the phewas window receives focus.\n            return this.allow_render ? this.variant_name : this.variant_name;\n        },\n    },\n    methods: {\n        receivePlot(plot, datasources) {\n            this.plot = plot;\n            this.datasources = datasources;\n\n            // Use listeners to warn when no variant data is available\n            plot.subscribeToData(['phewas:id'], (data) => {\n                if (!data || !data.length) {\n                    plot.curtain.show('There is no PheWAS data available for the requested variant. Please try another variant.');\n                }\n            });\n            // Since the plot already has data, ensure the event fires immediately.\n            plot.emit('data_rendered');\n        },\n    },\n    watch: {\n        allow_render(value) {\n            const { variant_name: variant } = this;\n            if (value && variant) {\n                // The very first time the user views this component, allow a plot to be created;\n                //   this will trigger something in the template that initiates rendering\n                this.rendered = true;\n            }\n            if (this.plot && variant) {\n                // Update an existing PheWAS plot when the user opens this tab\n                this.plot.curtain.hide();\n                this.plot.applyState({ variant });\n            }\n        },\n    },\n    components: { LzPlot },\n};\n</script>\n\n<template>\n<div>\n  <p v-if=\"!variant_name || !rendered\">\n    Please select a variant in order to generate a PheWAS plot. You can click on any scatter plot\n    point in an association track.\n  </p>\n  <div v-else>\n    <h3>Known PheWAS Results: {{ variant_name }}</h3>\n    <p>\n      In your study <em style=\"word-break: break-word\">{{ your_study }}</em>, this variant has a\n      <span class=\"text-muted definition\" :title=\"`p-value ${display_pvalue}`\">\n        -log<sub>10</sub> p-value of <strong>{{ display_logpvalue }}</strong>\n      </span>. Below are other\n      results for comparison.\n    </p>\n\n    <lz-plot\n        :base_layout=\"base_phewas_layout\"\n        :base_sources=\"base_phewas_sources\"\n        :show_loading=\"true\"\n\n        @connected=\"receivePlot\" />\n  </div>\n  <p>\n    PheWAS results are drawn from a large-scale analysis of the UK Biobank dataset, as described in\n    <a href=\"https://doi.org/10.1038/s41588-018-0184-y\">Nature Genetics volume 50, pages 13351341 (2018)</a>.\n  </p>\n\n</div>\n</template>\n\n\n<style scoped>\n.definition {\n  text-decoration: dotted underline;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhewasMaker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhewasMaker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhewasMaker.vue?vue&type=template&id=a6ecca30&scoped=true&\"\nimport script from \"./PhewasMaker.vue?vue&type=script&lang=js&\"\nexport * from \"./PhewasMaker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PhewasMaker.vue?vue&type=style&index=0&id=a6ecca30&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6ecca30\",\n  null\n  \n)\n\nexport default component.exports","<script>\n/**\n * Show a group of interconnected plots and export tables, for the provided data\n */\nimport { BCard, BTab, BTabs } from 'bootstrap-vue/esm/';\n\nimport ExportData from './ExportData.vue';\nimport LzPlot from './LzPlot.vue';\nimport PhewasMaker from './PhewasMaker.vue';\n\nimport { addPanels, deNamespace } from '../util/lz-helpers';\n\nexport default {\n    name: 'PlotPanes',\n    props: {\n        assoc_layout: { type: Object },\n        assoc_sources: { type: Array },\n        study_names: { type: Array }, // TODO: array --> label/id pairs?\n\n        // Basic plot/ region\n        chr: { type: String },\n        start: { type: Number },\n        end: { type: Number },\n        build: { type: String, default: 'GRCh37' },\n\n        // Control optional features (this could be done more nicely)\n        dynamic_urls: { default: false }, // Change URL when plot updates\n        has_credible_sets: { type: Boolean, default: true }, // export tool\n    },\n    data() {\n        return {\n            selected_tab: 0,\n\n            // For the \"phewas plot\" label:\n            tmp_phewas_study: null,\n            tmp_phewas_variant: null,\n            tmp_phewas_logpvalue: null,\n\n            // Required for export widget\n            tmp_export_callback: null,\n            table_data: [],\n        };\n    },\n    computed: {\n        allow_phewas() {\n            // Our current phewas api only has build 37 datasets; disable option for build 38\n            return this.build === 'GRCh37';\n        },\n        has_studies() {\n            return !!this.study_names.length;\n        },\n    },\n    beforeCreate() {\n        // Preserve a reference to component widgets so that their methods can be accessed directly\n        //  Some- esp LZ plots- behave very oddly when wrapped as a nested observable; we can\n        //  bypass these problems by assigning them as static properties instead of nested\n        //  observables.\n        this.PHEWAS_TAB = 1;\n\n        this.assoc_plot = null;\n        this.assoc_datasources = null;\n    },\n    methods: {\n        receivePlot(plot, data_sources) {\n            // Make LZ plot and source objects (created in a child component) available for direct\n            //  manipulation among sibling components\n            this.assoc_plot = plot;\n            this.assoc_datasources = data_sources;\n        },\n        addStudy(panel_configs, source_configs) {\n            // Add a study to the plot\n            addPanels(this.assoc_plot, this.assoc_datasources, panel_configs, source_configs);\n        },\n        onVariantClick(lzEvent) {\n            // Respond to clicking on an association plot datapoint\n            const panel_name = lzEvent.sourceID;\n            if (panel_name.indexOf('association_') === -1) {\n                return;\n            }\n\n            // TODO: Clean this up a bit to better match original display name\n            const variant_data = deNamespace(lzEvent.data, 'assoc');\n            // Internally, LZ broadcasts `plotname.assoc_study`. Convert to `study` for display\n            this.tmp_phewas_study = panel_name.split('.')[1].replace(/^association_/, '');\n            this.tmp_phewas_variant = variant_data.variant;\n            this.tmp_phewas_logpvalue = variant_data.log_pvalue;\n        },\n        subscribeFields(fields) {\n            // This method controls one table widget that draws data from one set of plot fields\n            if (this.tmp_export_callback) {\n                this.assoc_plot.off('data_rendered', this.tmp_export_callback);\n                this.tmp_export_callback = null;\n            }\n            if (!fields.length || !this.assoc_plot) {\n                return;\n            }\n            this.tmp_export_callback = this.assoc_plot.subscribeToData(fields, (data) => {\n                this.table_data = data.map(item => deNamespace(item, 'assoc'));\n            });\n            // In this use case, the plot already has data; make sure it feeds data to the table\n            // immediately\n            this.assoc_plot.emit('data_rendered');\n        },\n    },\n    components: {\n        ExportData,\n        LzPlot,\n        PhewasMaker,\n        BCard,\n        BTab,\n        BTabs,\n    },\n};\n</script>\n\n<template>\n  <div>\n    <b-card no-body>\n      <b-tabs pills card vertical v-model=\"selected_tab\"\n               style=\"min-height:1000px;\" class=\"flex-nowrap\"\n              content-class=\"scroll-extra\"\n      >\n        <b-tab title=\"GWAS\">\n          <lz-plot v-if=\"has_studies\"\n                   :show_loading=\"true\"\n                   :base_layout=\"assoc_layout\"\n                   :base_sources=\"assoc_sources\"\n                   :chr=\"chr\"\n                   :start=\"start\"\n                   :end=\"end\"\n                   :dynamic_urls=\"dynamic_urls\"\n                   @element_clicked=\"onVariantClick\"\n                   @connected=\"receivePlot\" />\n            <div v-else class=\"placeholder-plot\" style=\"display:table;\">\n              <span class=\"text-center\" style=\"display: table-cell; vertical-align:middle\">\n                Please add a GWAS track to continue\n              </span>\n            </div>\n        </b-tab>\n        <b-tab :disabled=\"!has_studies || !allow_phewas\">\n          <template slot=\"title\">\n            <span title=\"Only available for build GRCh37 datasets\">PheWAS</span>\n          </template>\n          <phewas-maker :variant_name=\"tmp_phewas_variant\" :build=\"build\"\n                        :your_study=\"tmp_phewas_study\"\n                        :your_logpvalue=\"tmp_phewas_logpvalue\"\n                        :allow_render=\"selected_tab === PHEWAS_TAB\"/>\n        </b-tab>\n        <b-tab title=\"Export\" :disabled=\"!has_studies\">\n          <export-data :has_credible_sets=\"has_credible_sets\"\n                       :study_names=\"study_names\"\n                       :table_data=\"table_data\"\n                       @requested-data=\"subscribeFields\"/>\n        </b-tab>\n\n      </b-tabs>\n    </b-card>\n  </div>\n</template>\n\n\n<style>\n  .placeholder-plot {\n    width: 100%;\n    height: 500px;\n    border-style: dashed;\n  }\n  .scroll-extra {\n    overflow-x: scroll;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlotPanes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlotPanes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlotPanes.vue?vue&type=template&id=f4e42286&\"\nimport script from \"./PlotPanes.vue?vue&type=script&lang=js&\"\nexport * from \"./PlotPanes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PlotPanes.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[(!_vm.batch_mode_active)?_c('div',{staticClass:\"col-sm-6\"},[(_vm.study_count < _vm.max_studies)?_c('div',[_c('tabix-file',{staticClass:\"mr-1\",on:{\"ready\":_vm.connectReader,\"fail\":_vm.showMessage}}),_c('b-dropdown',{attrs:{\"text\":\"Add from URL\",\"variant\":\"success\"}},[_c('div',{staticClass:\"px-3\"},[_c('tabix-url',{on:{\"ready\":_vm.connectReader,\"fail\":_vm.showMessage}})],1)]),(_vm.show_modal)?_c('adder-wizard',{attrs:{\"file_reader\":_vm.file_reader,\"file_name\":_vm.display_name},on:{\"update:file_name\":function($event){_vm.display_name=$event},\"ready\":_vm.sendConfig,\"close\":function($event){_vm.show_modal = false}}}):_vm._e()],1):_vm._e()]):_vm._e(),(!_vm.batch_mode_active)?_c('div',{staticClass:\"col-sm-6\"},[(_vm.study_count)?_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('region-picker',{attrs:{\"build\":_vm.build,\"max_range\":_vm.max_region_size,\"search_url\":\"https://portaldev.sph.umich.edu/api/v1/annotation/omnisearch/\"},on:{\"ready\":_vm.selectRange,\"fail\":_vm.showMessage}}),_c('batch-spec',{staticClass:\"ml-1\",attrs:{\"max_range\":_vm.max_region_size},on:{\"ready\":_vm.activateBatchMode}})],1):_c('b-dropdown',{staticClass:\"float-right\",attrs:{\"text\":\"Plot options\",\"variant\":\"info\"}},[_c('div',{staticClass:\"px-3\"},[_c('strong',[_vm._v(\"Annotations\")]),_c('br'),_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.has_catalog),expression:\"has_catalog\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\",\"id\":\"show-catalog\"},domProps:{\"checked\":Array.isArray(_vm.has_catalog)?_vm._i(_vm.has_catalog,null)>-1:(_vm.has_catalog)},on:{\"change\":function($event){var $$a=_vm.has_catalog,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.has_catalog=$$a.concat([$$v]))}else{$$i>-1&&(_vm.has_catalog=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.has_catalog=$$c}}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"show-catalog\"}},[_vm._v(\"GWAS Catalog\")])]),_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.has_credible_sets),expression:\"has_credible_sets\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\",\"id\":\"show-credible-set\"},domProps:{\"checked\":Array.isArray(_vm.has_credible_sets)?_vm._i(_vm.has_credible_sets,null)>-1:(_vm.has_credible_sets)},on:{\"change\":function($event){var $$a=_vm.has_credible_sets,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.has_credible_sets=$$a.concat([$$v]))}else{$$i>-1&&(_vm.has_credible_sets=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.has_credible_sets=$$c}}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"show-credible-set\"}},[_vm._v(\"95% credible set\")])]),_c('strong',[_vm._v(\"Genome Build\")]),_c('br'),_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.build),expression:\"build\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"id\":\"build-37\",\"name\":\"build\",\"value\":\"GRCh37\"},domProps:{\"checked\":_vm._q(_vm.build,\"GRCh37\")},on:{\"change\":function($event){_vm.build=\"GRCh37\"}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"build-37\"}},[_vm._v(\"GRCh37\")])]),_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.build),expression:\"build\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"id\":\"build-38\",\"name\":\"build\",\"value\":\"GRCh38\"},domProps:{\"checked\":_vm._q(_vm.build,\"GRCh38\")},on:{\"change\":function($event){_vm.build=\"GRCh38\"}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"build-38\"}},[_vm._v(\"GRCh38\")])])])])],1):_vm._e(),(_vm.batch_mode_active)?_c('div',{staticClass:\"col-md-12\"},[_c('batch-scroller',{attrs:{\"regions\":_vm.batch_mode_regions},on:{\"navigate\":_vm.selectRange,\"cancel\":function($event){_vm.batch_mode_active = false}}})],1):_vm._e(),(_vm.message)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12\"},[_c('span',{class:[_vm.message_class]},[_vm._v(_vm._s(_vm.message))])])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"modal\"}},[_c('div',{staticClass:\"modal-mask\"},[_c('div',{staticClass:\"modal-wrapper\"},[_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-header\"},[_c('h3',[_vm._v(\"Select file options...\")]),_c('button',{staticClass:\"pull-right\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\"X\\n          \")])]),_c('div',{staticClass:\"modal-body\"},[_c('div',[(_vm.current_page === _vm.PAGES.filename)?_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-3\",attrs:{\"for\":\"display_name\"}},[_vm._v(\"Dataset Label\")]),_c('div',{staticClass:\"col-sm-9\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.file_name),expression:\"file_name\"}],staticClass:\"form-control\",attrs:{\"id\":\"display_name\",\"type\":\"text\"},domProps:{\"value\":(_vm.file_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.file_name=$event.target.value}}})])]):(_vm.current_page === _vm.PAGES.variant)?_c('div',[_c('b-tabs',{model:{value:(_vm.variant_spec_tab),callback:function ($$v) {_vm.variant_spec_tab=$$v},expression:\"variant_spec_tab\"}},[_c('b-tab',{staticClass:\"pt-3\",attrs:{\"title\":\"Variant from columns\"}},[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2\",attrs:{\"for\":\"vs-chr\"}},[_vm._v(\"Chromosome\")]),_c('div',{staticClass:\"col-sm-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.chrom_col),expression:\"chrom_col\"}],staticClass:\"form-control\",attrs:{\"id\":\"vs-chr\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.chrom_col=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.column_titles),function(item,index){return _c('option',{key:index,domProps:{\"value\":index + 1}},[_vm._v(\"\\n                          \"+_vm._s(item)+\"\\n                        \")])}),0)]),_c('label',{staticClass:\"col-sm-2\",attrs:{\"for\":\"vs-pos\"}},[_vm._v(\"Position\")]),_c('div',{staticClass:\"col-sm-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pos_col),expression:\"pos_col\"}],staticClass:\"form-control\",attrs:{\"id\":\"vs-pos\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.pos_col=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.column_titles),function(item,index){return _c('option',{key:index,domProps:{\"value\":index + 1}},[_vm._v(\"\\n                          \"+_vm._s(item)+\"\\n                        \")])}),0)])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2\",attrs:{\"for\":\"vs-ref\"}},[_vm._v(\"Ref allele\")]),_c('div',{staticClass:\"col-sm-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ref_col),expression:\"ref_col\"}],staticClass:\"form-control\",attrs:{\"id\":\"vs-ref\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.ref_col=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.column_titles),function(item,index){return _c('option',{key:index,domProps:{\"value\":index + 1}},[_vm._v(\"\\n                          \"+_vm._s(item)+\"\\n                        \")])}),0)]),_c('label',{staticClass:\"col-sm-2\",attrs:{\"for\":\"vs-alt\"}},[_vm._v(\"Alt allele\")]),_c('div',{staticClass:\"col-sm-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.alt_col),expression:\"alt_col\"}],staticClass:\"form-control\",attrs:{\"id\":\"vs-alt\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.alt_col=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.column_titles),function(item,index){return _c('option',{key:index,domProps:{\"value\":index + 1}},[_vm._v(\"\\n                          \"+_vm._s(item)+\"\\n                        \")])}),0)])])]),_c('b-tab',{staticClass:\"pt-3\",attrs:{\"title\":\"Variant from marker\"}},[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2\",attrs:{\"for\":\"vs-marker\"}},[_vm._v(\"Marker\")]),_c('div',{staticClass:\"col-sm-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.marker_col),expression:\"marker_col\"}],staticClass:\"form-control\",attrs:{\"id\":\"vs-marker\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.marker_col=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.column_titles),function(item,index){return _c('option',{key:index,domProps:{\"value\":index + 1}},[_vm._v(\"\\n                          \"+_vm._s(item)+\"\\n                        \")])}),0)])])])],1),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2\",attrs:{\"for\":\"vs-pval\"}},[_vm._v(\"P-value column\")]),_c('div',{staticClass:\"col-sm-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pvalue_col),expression:\"pvalue_col\"}],staticClass:\"form-control\",attrs:{\"id\":\"vs-pval\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.pvalue_col=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.column_titles),function(item,index){return _c('option',{key:index,domProps:{\"value\":index + 1}},[_vm._v(\"\\n                      \"+_vm._s(item)+\"\\n                    \")])}),0)]),_c('div',{staticClass:\"col-sm-2\"},[_c('label',{staticClass:\"form-check-label\",staticStyle:{\"white-space\":\"nowrap\"},attrs:{\"for\":\"is_neg_log_pvalue\"}},[_vm._v(\"\\n                    is \"),_c('em',[_vm._v(\"-log\"),_c('sub',[_vm._v(\"10\")]),_vm._v(\"(p)\")])])]),_c('div',{staticClass:\"col-sm-4\"},[_c('div',{staticClass:\"form-check float-left\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.is_neg_log_pvalue),expression:\"is_neg_log_pvalue\"}],staticClass:\"form-check-input\",attrs:{\"id\":\"is_neg_log_pvalue\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.is_neg_log_pvalue)?_vm._i(_vm.is_neg_log_pvalue,null)>-1:(_vm.is_neg_log_pvalue)},on:{\"change\":function($event){var $$a=_vm.is_neg_log_pvalue,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.is_neg_log_pvalue=$$a.concat([$$v]))}else{$$i>-1&&(_vm.is_neg_log_pvalue=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.is_neg_log_pvalue=$$c}}}})])])])],1):(_vm.current_page === _vm.PAGES.optional)?_c('div',[_c('h3',[_vm._v(\"Optional fields\")]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2\",attrs:{\"for\":\"vs-beta\"}},[_vm._v(\"Effect size\")]),_c('div',{staticClass:\"col-sm-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.beta_col),expression:\"beta_col\"}],staticClass:\"form-control\",attrs:{\"id\":\"vs-beta\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.beta_col=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.column_titles),function(item,index){return _c('option',{key:index,domProps:{\"value\":index + 1}},[_vm._v(\"\\n                      \"+_vm._s(item)+\"\\n                    \")])}),0)]),_c('div',{staticClass:\"col-sm-6\"})]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2\",attrs:{\"for\":\"vs-stderr\"}},[_vm._v(\"Std. Err.\")]),_c('div',{staticClass:\"col-sm-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.stderr_beta_col),expression:\"stderr_beta_col\"}],staticClass:\"form-control\",attrs:{\"id\":\"vs-stderr\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.stderr_beta_col=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.column_titles),function(item,index){return _c('option',{key:index,domProps:{\"value\":index + 1}},[_vm._v(\"\\n                      \"+_vm._s(item)+\"\\n                    \")])}),0)])]),_c('h4',[_vm._v(\"Allele Frequency\")]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2\"},[_vm._v(\"Effect allele\")]),_c('div',{staticClass:\"col-sm-10\"},[_c('b-form-radio',{attrs:{\"inline\":\"\",\"value\":false},model:{value:(_vm.is_alt_effect),callback:function ($$v) {_vm.is_alt_effect=$$v},expression:\"is_alt_effect\"}},[_vm._v(\"Ref\")]),_c('b-form-radio',{attrs:{\"inline\":\"\",\"value\":true},model:{value:(_vm.is_alt_effect),callback:function ($$v) {_vm.is_alt_effect=$$v},expression:\"is_alt_effect\"}},[_vm._v(\"Alt\")])],1)]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2\"},[_vm._v(\"Specify from\")]),_c('div',{staticClass:\"col-sm-10\"},[_c('b-form-radio',{attrs:{\"inline\":\"\",\"value\":_vm.AF_SPEC.freq},model:{value:(_vm.freq_spec_option),callback:function ($$v) {_vm.freq_spec_option=$$v},expression:\"freq_spec_option\"}},[_vm._v(\"Frequency\")]),_c('b-form-radio',{attrs:{\"inline\":\"\",\"value\":_vm.AF_SPEC.count},model:{value:(_vm.freq_spec_option),callback:function ($$v) {_vm.freq_spec_option=$$v},expression:\"freq_spec_option\"}},[_vm._v(\"Counts\")])],1)]),(_vm.freq_spec_option === _vm.AF_SPEC.freq)?_c('div',[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2\",attrs:{\"for\":\"vs-af-freq\"}},[_vm._v(\"Frequency\")]),_c('div',{staticClass:\"col-sm-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.allele_freq_col),expression:\"allele_freq_col\"}],staticClass:\"form-control\",attrs:{\"id\":\"vs-af-freq\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.allele_freq_col=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.column_titles),function(item,index){return _c('option',{key:index,domProps:{\"value\":index + 1}},[_vm._v(\"\\n                          \"+_vm._s(item)+\"\\n                        \")])}),0)]),_c('div',{staticClass:\"col-sm-6\"})])]):(_vm.freq_spec_option === _vm.AF_SPEC.count)?_c('div',[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2\",attrs:{\"for\":\"vs-af-count\"}},[_vm._v(\"Count\")]),_c('div',{staticClass:\"col-sm-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.allele_count_col),expression:\"allele_count_col\"}],staticClass:\"form-control\",attrs:{\"id\":\"vs-af-count\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.allele_count_col=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.column_titles),function(item,index){return _c('option',{key:index,domProps:{\"value\":index + 1}},[_vm._v(\"\\n                          \"+_vm._s(item)+\"\\n                        \")])}),0)]),_c('label',{staticClass:\"col-sm-2\",attrs:{\"for\":\"vs-af-ns\"}},[_vm._v(\"# Samples\")]),_c('div',{staticClass:\"col-sm-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.n_samples_col),expression:\"n_samples_col\"}],staticClass:\"form-control\",attrs:{\"id\":\"vs-af-ns\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.n_samples_col=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.column_titles),function(item,index){return _c('option',{key:index,domProps:{\"value\":index + 1}},[_vm._v(\"\\n                          \"+_vm._s(item)+\"\\n                        \")])}),0)])])]):_c('div',[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"\\n                    Please select a frequency option in order to use this feature\\n                  \")])])]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"card card-body bg-light\"},[(_vm.isValid && _vm.preview.error)?_c('div',[_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.preview.error))])]):(_vm.isValid)?_c('div',[_c('table',{staticClass:\"preview-table\"},[_c('tr',[_c('td',[_vm._v(\"Variant\")]),_c('td',[_vm._v(_vm._s(_vm.preview.variant))])]),_c('tr',[_c('td',[_vm._v(\"-log\"),_c('sub',[_vm._v(\"10\")]),_vm._v(\"(p)\")]),_c('td',[_vm._v(_vm._s(_vm.preview.log_pvalue.toFixed(3)))])]),_c('tr',[_c('td',[_vm._v(\"\")]),_c('td',[_vm._v(_vm._s(_vm.preview.beta ? _vm.preview.beta.toFixed(3) : ''))])]),_c('tr',[_c('td',[_vm._v(\"SE()\")]),_c('td',[_vm._v(_vm._s(_vm.preview.stderr_beta ? _vm.preview.stderr_beta.toFixed(3): ''))])]),_c('tr',[_c('td',[_vm._v(\"Allele freq\")]),_c('td',[_vm._v(\"\\n                          \"+_vm._s(_vm.preview.alt_allele_freq ? _vm.preview.alt_allele_freq.toFixed(3) : '')+\"\\n                        \")])])])]):_c('div',[_vm._v(\"\\n                    Please select options to preview parsed data.\\n                  \")])])]),_c('div',{staticClass:\"row mt-3\"},[(_vm.current_page === _vm.PAGES.optional)?_c('button',{staticClass:\"btn btn-success ml-auto\",attrs:{\"disabled\":!_vm.isValid},on:{\"click\":_vm.sendOptions}},[_vm._v(\"\\n                Accept options\\n              \")]):_c('button',{staticClass:\"btn btn-success ml-auto\",attrs:{\"disabled\":!_vm.isValid},on:{\"click\":function($event){_vm.current_page += 1}}},[_vm._v(\"Next\\n              \")])])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Sniffers: auto detect file format and parsing options for GWAS files.\n *  TODO: Reorganize code base and move more logic here\n */\n\nimport { MISSING_VALUES, parsePvalToLog, parseMarker, _missingToNull } from './parser_utils';\n\nfunction isNumeric(val) {\n    // Check whether an unparsed string is a numeric value\"\n    if (MISSING_VALUES.has(val)) {\n        return true;\n    }\n    return !Number.isNaN(+val);\n}\n\nfunction isHeader(row, { comment_char = '#', delimiter = '\\t' } = {}) {\n    // This assumes two basic rules: the line is not a comment, and gwas data is more likely\n    // to be numeric than headers\n    return row.startsWith(comment_char) || row.split(delimiter).every(item => !isNumeric(item));\n}\n\n/**\n * Compute the levenshtein distance between two strings. Useful for finding the single best column\n *  name that matches a given rule.\n *  @private\n */\nfunction levenshtein(a, b) { // https://github.com/trekhleb/javascript-algorithms\n    // Create empty edit distance matrix for all possible modifications of\n    // substrings of a to substrings of b.\n    const distanceMatrix = Array(b.length + 1)\n        .fill(null)\n        .map(() => Array(a.length + 1)\n            .fill(null));\n\n    // Fill the first row of the matrix.\n    // If this is first row then we're transforming empty string to a.\n    // In this case the number of transformations equals to size of a substring.\n    for (let i = 0; i <= a.length; i += 1) {\n        distanceMatrix[0][i] = i;\n    }\n\n    // Fill the first column of the matrix.\n    // If this is first column then we're transforming empty string to b.\n    // In this case the number of transformations equals to size of b substring.\n    for (let j = 0; j <= b.length; j += 1) {\n        distanceMatrix[j][0] = j;\n    }\n\n    for (let j = 1; j <= b.length; j += 1) {\n        for (let i = 1; i <= a.length; i += 1) {\n            const indicator = a[i - 1] === b[j - 1] ? 0 : 1;\n            distanceMatrix[j][i] = Math.min(\n                distanceMatrix[j][i - 1] + 1, // deletion\n                distanceMatrix[j - 1][i] + 1, // insertion\n                distanceMatrix[j - 1][i - 1] + indicator, // substitution\n            );\n        }\n    }\n    return distanceMatrix[b.length][a.length];\n}\n\n/**\n * Return the index of the first column name that meets acceptance criteria\n * @param {String[]} column_synonyms\n * @param {String[]}header_names\n * @param {Number} threshold Tolerance for fuzzy matching (# edits)\n * @return {Number|null} Index of the best matching column, or null if no match possible\n */\nfunction findColumn(column_synonyms, header_names, threshold = 2) {\n    // Find the column name that best matches\n    let best_score = threshold + 1;\n    let best_match = null;\n    for (let i = 0; i < header_names.length; i++) {\n        const header = header_names[i];\n        if (header === null) {\n            // If header is empty, don't consider it for a match\n            // Nulling a header provides a way to exclude something from future searching\n            continue; // eslint-disable-line no-continue\n        }\n        const score = Math.min(...column_synonyms.map(s => levenshtein(header, s)));\n        if (score < best_score) {\n            best_score = score;\n            best_match = i;\n        }\n    }\n    return best_match;\n}\n\n\n/**\n * Return parser configuration for pvalues\n *\n * Returns 1-based column indices, for compatibility with parsers\n * @param header_row\n * @param data_rows\n * @returns {{}}\n */\nfunction getPvalColumn(header_row, data_rows) {\n    // TODO: Allow overrides\n    const LOGPVALUE_FIELDS = ['neg_log_pvalue', 'log_pvalue', 'log_pval', 'logpvalue'];\n    const PVALUE_FIELDS = ['pvalue', 'p.value', 'p-value', 'pval', 'p_score', 'p'];\n\n    let ps;\n    const validateP = (col, data, is_log) => { // Validate pvalues\n        const cleaned_vals = _missingToNull(data.map(row => row[col]));\n        try {\n            ps = cleaned_vals.map(p => parsePvalToLog(p, is_log));\n        } catch (e) {\n            return false;\n        }\n        return ps.every(val => !Number.isNaN(val));\n    };\n\n    const log_p_col = findColumn(LOGPVALUE_FIELDS, header_row);\n    const p_col = findColumn(PVALUE_FIELDS, header_row);\n\n    if (log_p_col !== null && validateP(log_p_col, data_rows, true)) {\n        return {\n            pvalue_col: log_p_col + 1,\n            is_neg_log_pvalue: true,\n        };\n    }\n    if (p_col && validateP(p_col, data_rows, false)) {\n        return {\n            pvalue_col: p_col + 1,\n            is_neg_log_pvalue: false,\n        };\n    }\n    // Could not auto-determine an appropriate pvalue column\n    return null;\n}\n\n\nfunction getChromPosRefAltColumns(header_row, data_rows) {\n    // Returns 1-based column indices, for compatibility with parsers\n    // Get from either a marker, or 4 separate columns\n    const MARKER_FIELDS = ['snpid', 'marker', 'markerid', 'snpmarker', 'chr:position'];\n    const CHR_FIELDS = ['chrom', 'chr'];\n    const POS_FIELDS = ['position', 'pos', 'begin', 'beg', 'bp', 'end', 'ps'];\n\n    // TODO: How to handle orienting ref vs effect?\n    // Order matters: consider ambiguous field names for ref before alt\n    const REF_FIELDS = ['A1', 'ref', 'reference', 'allele0', 'allele1'];\n    const ALT_FIELDS = ['A2', 'alt', 'alternate', 'allele1', 'allele2'];\n\n    const first_row = data_rows[0];\n    let marker_col = findColumn(MARKER_FIELDS, header_row);\n    if (marker_col !== null && parseMarker(first_row[marker_col], true)) {\n        marker_col += 1;\n        return { marker_col };\n    }\n\n    // If single columns were incomplete, attempt to auto detect 4 separate columns. All 4 must\n    //  be found for this function to report a match.\n    const headers_marked = header_row.slice();\n    const find = [\n        ['chrom_col', CHR_FIELDS],\n        ['pos_col', POS_FIELDS],\n        ['ref_col', REF_FIELDS],\n        ['alt_col', ALT_FIELDS],\n    ];\n    const config = {};\n    for (let i = 0; i < find.length; i++) {\n        const [col_name, choices] = find[i];\n        const col = findColumn(choices, headers_marked);\n        if (col === null) {\n            return null;\n        }\n        config[col_name] = col + 1;\n        // Once a column has been assigned, remove it from consideration\n        headers_marked[col] = null;\n    }\n    return config;\n}\n\n/**\n * Identify which columns contain effect size (beta) and stderr of the effect size\n * @param {String[]} header_names\n * @param {Array[]} data_rows\n * @returns {{}}\n */\nfunction getEffectSizeColumns(header_names, data_rows) {\n    const BETA_FIELDS = ['beta', 'effect_size', 'alt_effsize', 'effect'];\n    const STDERR_BETA_FIELDS = ['stderr_beta', 'stderr', 'sebeta', 'effect_size_sd', 'se'];\n\n    function validate_numeric(col, data) {\n        const cleaned_vals = _missingToNull(data.map(row => row[col]));\n        let nums;\n        try {\n            nums = cleaned_vals.filter(val => val !== null).map(val => +val);\n        } catch (e) {\n            return false;\n        }\n        return nums.every(val => !Number.isNaN(val));\n    }\n\n    const beta_col = findColumn(BETA_FIELDS, header_names, 0);\n    const stderr_beta_col = findColumn(STDERR_BETA_FIELDS, header_names, 0);\n\n    const ret = {};\n    if (beta_col !== null && validate_numeric(beta_col, data_rows)) {\n        ret.beta_col = beta_col + 1;\n    }\n    if (stderr_beta_col !== null && validate_numeric(stderr_beta_col, data_rows)) {\n        ret.stderr_beta_col = stderr_beta_col + 1;\n    }\n    return ret;\n}\n/**\n * Attempt to guess the correct parser settings given a set of header rows and a set of data rows\n * @param {String[]} header_row\n * @param {String[][]} data_rows\n * @param {int} offset Used to convert between 0 and 1-based indexing.\n */\nfunction guessGWAS(header_row, data_rows, offset = 1) {\n    // 1. Find a specific set of info: marker OR chr/pos/ref/alt ; pvalue OR log_pvalue\n    // 2. Validate that we will be able to parse the required info: fields present and make sense\n    // 3. Based on the field names selected, attempt to infer meaning: verify whether log is used,\n    //  and check ref/alt vs effect/noneffect\n    // 4. Return a parser config object if all tests pass, OR null.\n\n    // Normalize case and remove leading comment marks from line for easier comparison\n    const headers = header_row.map(item => (item ? item.toLowerCase() : item));\n    headers[0].replace('/^#+/', '');\n    // Lists of fields are drawn from Encore (AssocResultReader) and Pheweb (conf_utils.py)\n    const pval_config = getPvalColumn(headers, data_rows, offset);\n    if (!pval_config) {\n        return null;\n    }\n    headers[pval_config.pvalue_col - 1] = null; // Remove this column from consideration\n    const position_config = getChromPosRefAltColumns(headers, data_rows);\n    if (!position_config) {\n        return null;\n    }\n    // Remove the position config from consideration for future matches\n    Object.keys(position_config).forEach((key) => {\n        headers[position_config[key]] = null;\n    });\n\n    const beta_config = getEffectSizeColumns(headers, data_rows);\n\n    if (pval_config && position_config) {\n        return Object.assign({}, pval_config, position_config, beta_config || {});\n    }\n    return null;\n}\n\nexport {\n    // Public members\n    guessGWAS,\n    isNumeric,\n    isHeader,\n    // Symbols exported for testing\n    getPvalColumn as _getPvalColumn,\n    findColumn as _findColumn,\n    levenshtein as _levenshtein,\n};\n","<script>\n/**\n * A modal dialog window used to specify file parsing configuration options\n * See: https://vuejs.org/v2/examples/modal.html -->\n */\nimport { BFormGroup, BFormRadio, BTabs, BTab } from 'bootstrap-vue/esm/';\n\nimport { isHeader, guessGWAS } from '../gwas/sniffers';\nimport { makeParser } from '../gwas/parsers';\nimport { has } from '../gwas/parser_utils';\n\nconst TAB_FROM_SEPARATE_COLUMNS = 0;\nconst TAB_FROM_MARKER = 1;\n\nconst AF_SPEC = { freq: 1, count: 2 };\n\nconst PAGES = {\n    filename: 0,\n    variant: 1,\n    optional: 2,\n};\n\nexport default {\n    name: 'adder-wizard',\n    beforeCreate() {\n        // Makes enums available within vue template\n        this.PAGES = PAGES;\n        this.AF_SPEC = AF_SPEC;\n    },\n    mounted() {\n        document.body.addEventListener('keyup', (e) => {\n            if (e.key === 'Escape') {\n                this.$emit('close');\n            }\n        });\n    },\n    props: ['file_reader', 'file_name'],\n    data() {\n        return {\n            column_titles: [],\n            sample_data: [],\n\n            // Which part of the UI should we show?\n            current_page: this.filename ? PAGES.filename : PAGES.variant,\n            variant_spec_tab: TAB_FROM_SEPARATE_COLUMNS,\n            freq_spec_option: null,\n\n            // Configuration options for variant data\n            marker_col: null,\n\n            // These are set by tabix but can be overridden\n            chrom_col: this.file_reader.colSeq || null,\n            pos_col: this.file_reader.colStart || null,\n\n            // User must define these\n            ref_col: null,\n            alt_col: null,\n            pvalue_col: null,\n            is_neg_log_pvalue: false,\n\n            // These fields are each optional and standalone.\n            beta_col: null,\n            stderr_beta_col: null,\n\n            // Optional AF info is provided by 2-3 fields: `is_alt_effect` + (freq OR 2 counts)\n            allele_freq_col: null,\n            allele_count_col: null,\n            n_samples_col: null,\n            is_alt_effect: null,\n        };\n    },\n    watch: {\n        file_reader: {\n            immediate: true,\n            handler() {\n                // Uses a watcher to resolve async value fetch.\n                // Not every tabix file represents column header data in the same way: in some, it's\n                //  the last line with a comment (meta) character. In others, there is no meta\n                //   char, so we use the last line that was skipped\n                // Fetch 25 rows of data. The last skipped line is assumed to be column headers;\n                //  the last total line is assumed to be data.\n                // This wizard assumes all files are tabix (tab delimited)\n\n                // Find headers by fetching a large block of lines, and picking the best ones\n                const callback = (rows, err) => {\n                    // Read data (and last-ditch attempt to find headers, if necessary)\n                    let first_data_index;\n                    if (this.file_reader.skip) {\n                        // A tabix reader defines headers as \"comment lines and/or lines you skip\"\n                        first_data_index = this.file_reader.skip;\n                    } else {\n                        // Some files use headers that are not comment lines.\n                        first_data_index = rows.findIndex(text => !isHeader(text));\n                    }\n                    this.sample_data = rows.slice(first_data_index);\n                    const data_rows = this.sample_data.map(line => line.split('\\t'));\n                    // Get column titles (if present)\n                    if (first_data_index > 0) { // 0 = no headers; -1 = no rows or no data found\n                        // When data is first loaded, generate a suggested auto-config\n                        this.column_titles = rows[first_data_index - 1]\n                            .replace(/^#+/g, '')\n                            .split('\\t');\n\n                        // When data is first loaded, generate a suggested auto-config\n                        const guess = guessGWAS(this.column_titles, data_rows);\n                        if (guess) {\n                            Object.assign(this, guess);\n                            // If config is detected, set the UI to show best options\n                            this.variant_spec_tab = has(guess.marker_col)\n                                ? TAB_FROM_MARKER : TAB_FROM_SEPARATE_COLUMNS;\n                        }\n                    } else {\n                        // If column headers could not be found, then we can't guess config.\n                        // Provide a set of UI-only labels so that dropdowns are not empty\n                        // TODO: We may be seeing files with no data (esp in non-tabix mode).\n                        //    Improve handling of such edge cases.\n                        const num_cols = rows.length ? rows[0].split('\\t').length : 0;\n                        this.column_titles = [...new Array(num_cols)]\n                            .map((item, index) => `Column ${index + 1}`);\n                    }\n                };\n                this.file_reader.fetchHeader(callback, {\n                    nLines: 30,\n                    metaOnly: false,\n                });\n            },\n        },\n    },\n    computed: {\n        freqSpec() {\n            const {\n                freq_spec_option,\n                allele_freq_col,\n                allele_count_col,\n                n_samples_col,\n                is_alt_effect,\n            } = this;\n            const res = { is_alt_effect };\n            let is_valid = (is_alt_effect !== null);\n\n            if (freq_spec_option === AF_SPEC.freq) {\n                is_valid = is_valid && has(allele_freq_col);\n                res.allele_freq_col = allele_freq_col;\n            } else if (freq_spec_option === AF_SPEC.count) {\n                is_valid = is_valid && (has(allele_count_col) && has(n_samples_col));\n                res.allele_count_col = allele_count_col;\n                res.n_samples_col = n_samples_col;\n            }\n            return is_valid ? res : {};\n        },\n\n        variantSpec() {\n            // Only provide a value if the variant description is minimally complete\n            const { marker_col, chrom_col, pos_col, ref_col, alt_col } = this;\n            if (this.variant_spec_tab === TAB_FROM_MARKER && has(marker_col)) {\n                return { marker_col };\n            }\n            if (this.variant_spec_tab === TAB_FROM_SEPARATE_COLUMNS\n                && has(pos_col) && has(chrom_col)) {\n                const ret = { chrom_col, pos_col };\n                if (has(ref_col) && has(alt_col)) { // Must specify both, or neither.\n                    Object.assign(ret, { ref_col, alt_col });\n                }\n                return ret;\n            }\n            return {};\n        },\n        parserOptions() {\n            const { pvalue_col, is_neg_log_pvalue, beta_col, stderr_beta_col } = this;\n            return Object.assign({}, {\n                pvalue_col,\n                is_neg_log_pvalue,\n                beta_col,\n                stderr_beta_col,\n            }, this.variantSpec,\n            this.freqSpec);\n        },\n        isValid() {\n            const hasVariant = Object.keys(this.variantSpec).length !== 0;\n            const hasP = has(this.parserOptions.pvalue_col);\n            return hasVariant && hasP;\n        },\n        parser() {\n            if (this.isValid) {\n                try {\n                    return makeParser(this.parserOptions);\n                } catch (e) {\n                    return () => { throw new Error('Invalid parser configuration'); };\n                }\n            }\n            return () => {};\n        },\n        preview() {\n            try {\n                return this.parser(this.sample_data[0]);\n            } catch (e) {\n                console.error(e);\n                return { error: 'Could not parse column contents' };\n            }\n        },\n    },\n    methods: {\n        sendOptions() {\n            // The preview (first line of file) will set the default locus (view) for this data\n            const init_position = this.preview.position;\n            const init_state = {\n                chr: this.preview.chromosome,\n                start: Math.max(0, init_position - 250000),\n                end: init_position + 250000,\n            };\n            this.$emit('ready', Object.assign({}, this.parserOptions), init_state);\n            this.$emit('close');\n        },\n    },\n    components: {\n        BFormGroup,\n        BFormRadio,\n        BTab,\n        BTabs,\n    },\n};\n</script>\n\n<template>\n  <transition name=\"modal\">\n    <div class=\"modal-mask\">\n      <div class=\"modal-wrapper\">\n        <div class=\"modal-container\">\n          <div class=\"modal-header\">\n            <h3>Select file options...</h3>\n            <button class=\"pull-right\" aria-label=\"close\"\n                    @click=\"$emit('close')\">X\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <div>\n              <div class=\"form-group row\" v-if=\"current_page === PAGES.filename\">\n                <label for=\"display_name\" class=\"col-sm-3\">Dataset Label</label>\n                <div class=\"col-sm-9\">\n                  <input id=\"display_name\" class=\"form-control\" type=\"text\" v-model=\"file_name\">\n                </div>\n              </div>\n\n              <div v-else-if=\"current_page === PAGES.variant\">\n                <b-tabs v-model=\"variant_spec_tab\">\n                  <b-tab title=\"Variant from columns\" class=\"pt-3\">\n                    <div class=\"form-group row\">\n                      <label for=\"vs-chr\" class=\"col-sm-2\">Chromosome</label>\n                      <div class=\"col-sm-4\">\n                        <select id=\"vs-chr\" v-model=\"chrom_col\" class=\"form-control\">\n                          <option v-for=\"(item, index) in column_titles\"\n                                  :value=\"index + 1\" :key=\"index\">\n                            {{ item }}\n                          </option>\n                        </select>\n                      </div>\n                      <label for=\"vs-pos\" class=\"col-sm-2\">Position</label>\n                      <div class=\"col-sm-4\">\n                        <select id=\"vs-pos\" v-model=\"pos_col\" class=\"form-control\">\n                          <option v-for=\"(item, index) in column_titles\"\n                                  :value=\"index + 1\" :key=\"index\">\n                            {{ item }}\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                    <div class=\"form-group row\">\n                      <label for=\"vs-ref\" class=\"col-sm-2\">Ref allele</label>\n                      <div class=\"col-sm-4\">\n                        <select id=\"vs-ref\" v-model=\"ref_col\" class=\"form-control\">\n                          <option v-for=\"(item, index) in column_titles\"\n                                  :value=\"index + 1\" :key=\"index\">\n                            {{ item }}\n                          </option>\n                        </select>\n                      </div>\n                      <label for=\"vs-alt\" class=\"col-sm-2\">Alt allele</label>\n                      <div class=\"col-sm-4\">\n                        <select id=\"vs-alt\" v-model=\"alt_col\" class=\"form-control\">\n                          <option v-for=\"(item, index) in column_titles\"\n                                  :value=\"index + 1\" :key=\"index\">\n                            {{ item }}\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                  </b-tab>\n                  <b-tab title=\"Variant from marker\" class=\"pt-3\">\n                    <div class=\"form-group row\">\n                      <label for=\"vs-marker\" class=\"col-sm-2\">Marker</label>\n                      <div class=\"col-sm-4\">\n                        <select id=\"vs-marker\" v-model=\"marker_col\" class=\"form-control\">\n                          <option v-for=\"(item, index) in column_titles\"\n                                  :value=\"index + 1\" :key=\"index\">\n                            {{ item }}\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                  </b-tab>\n                </b-tabs>\n                <div class=\"form-group row\">\n                  <label for=\"vs-pval\" class=\"col-sm-2\">P-value column</label>\n                  <div class=\"col-sm-4\">\n                    <select id=\"vs-pval\" v-model=\"pvalue_col\" class=\"form-control\">\n                      <option v-for=\"(item, index) in column_titles\" :value=\"index + 1\"\n                              :key=\"index\">\n                        {{ item }}\n                      </option>\n                    </select>\n                  </div>\n                  <div class=\"col-sm-2\">\n                    <label for=\"is_neg_log_pvalue\"\n                           class=\"form-check-label\" style=\"white-space: nowrap\">\n                      is <em>-log<sub>10</sub>(p)</em>\n                    </label>\n                  </div>\n                  <div class=\"col-sm-4\">\n                    <div class=\"form-check float-left\">\n                      <input id=\"is_neg_log_pvalue\" v-model=\"is_neg_log_pvalue\"\n                             type=\"checkbox\" class=\"form-check-input\">\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div v-else-if=\"current_page === PAGES.optional\">\n                <h3>Optional fields</h3>\n                <div class=\"form-group row\">\n                  <label for=\"vs-beta\" class=\"col-sm-2\">Effect size</label>\n                  <div class=\"col-sm-4\">\n                    <select id=\"vs-beta\" v-model=\"beta_col\" class=\"form-control\">\n                      <option v-for=\"(item, index) in column_titles\"\n                              :value=\"index + 1\" :key=\"index\">\n                        {{ item }}\n                      </option>\n                    </select>\n                  </div>\n                  <div class=\"col-sm-6\"></div>\n                </div>\n                <div class=\"form-group row\">\n                  <label for=\"vs-stderr\" class=\"col-sm-2\">Std. Err.</label>\n                  <div class=\"col-sm-4\">\n                    <select id=\"vs-stderr\" v-model=\"stderr_beta_col\" class=\"form-control\">\n                      <option v-for=\"(item, index) in column_titles\"\n                              :value=\"index + 1\" :key=\"index\">\n                        {{ item }}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n                <h4>Allele Frequency</h4>\n                <div class=\"form-group row\">\n                  <label class=\"col-sm-2\">Effect allele</label>\n                  <div class=\"col-sm-10\">\n                    <b-form-radio inline :value=\"false\" v-model=\"is_alt_effect\">Ref</b-form-radio>\n                    <b-form-radio inline :value=\"true\" v-model=\"is_alt_effect\">Alt</b-form-radio>\n                  </div>\n                </div>\n\n                <div class=\"form-group row\">\n                  <label class=\"col-sm-2\">Specify from</label>\n                  <div class=\"col-sm-10\">\n                    <b-form-radio inline :value=\"AF_SPEC.freq\"\n                                  v-model=\"freq_spec_option\">Frequency</b-form-radio>\n                    <b-form-radio inline :value=\"AF_SPEC.count\"\n                                  v-model=\"freq_spec_option\">Counts</b-form-radio>\n                  </div>\n                </div>\n\n                  <div v-if=\"freq_spec_option === AF_SPEC.freq\">\n                    <div class=\"form-group row\">\n                      <label for=\"vs-af-freq\" class=\"col-sm-2\">Frequency</label>\n                      <div class=\"col-sm-4\">\n                        <select id=\"vs-af-freq\" v-model=\"allele_freq_col\" class=\"form-control\">\n                          <option v-for=\"(item, index) in column_titles\"\n                                  :value=\"index + 1\" :key=\"index\">\n                            {{ item }}\n                          </option>\n                        </select>\n                      </div>\n                      <div class=\"col-sm-6\"></div>\n                    </div>\n                  </div>\n                  <div v-else-if=\"freq_spec_option === AF_SPEC.count\">\n                    <div class=\"form-group row\">\n                      <label for=\"vs-af-count\" class=\"col-sm-2\">Count</label>\n                      <div class=\"col-sm-4\">\n                        <select id=\"vs-af-count\" v-model=\"allele_count_col\" class=\"form-control\">\n                          <option v-for=\"(item, index) in column_titles\"\n                                  :value=\"index + 1\" :key=\"index\">\n                            {{ item }}\n                          </option>\n                        </select>\n                      </div>\n                      <label for=\"vs-af-ns\" class=\"col-sm-2\"># Samples</label>\n                      <div class=\"col-sm-4\">\n                        <select id=\"vs-af-ns\" v-model=\"n_samples_col\" class=\"form-control\">\n                          <option v-for=\"(item, index) in column_titles\"\n                                  :value=\"index + 1\" :key=\"index\">\n                            {{ item }}\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                  <div v-else>\n                    <span class=\"text-muted\">\n                      Please select a frequency option in order to use this feature\n                    </span>\n                  </div>\n\n              </div>\n\n              <div class=\"row\">\n                  <div class=\"card card-body bg-light\">\n                    <div v-if=\"isValid && preview.error\">\n                      <span class=\"text-danger\">{{ preview.error }}</span>\n                    </div>\n                    <div v-else-if=\"isValid\">\n                      <table class=\"preview-table\">\n                        <tr>\n                          <td>Variant</td>\n                          <td>{{ preview.variant }}</td>\n                        </tr>\n                        <tr>\n                          <td>-log<sub>10</sub>(p)</td>\n                          <td>{{ preview.log_pvalue.toFixed(3) }}</td>\n                        </tr>\n                        <tr>\n                          <td>&beta;</td>\n                          <td>{{ preview.beta ? preview.beta.toFixed(3) : '' }}</td>\n                        </tr>\n                        <tr>\n                          <td>SE(&beta;)</td>\n                          <td>{{ preview.stderr_beta ? preview.stderr_beta.toFixed(3): '' }}</td>\n                        </tr>\n                        <tr>\n                          <td>Allele freq</td>\n                          <td>\n                            {{ preview.alt_allele_freq ? preview.alt_allele_freq.toFixed(3) : '' }}\n                          </td>\n                        </tr>\n                      </table>\n                    </div>\n                    <div v-else>\n                      Please select options to preview parsed data.\n                    </div>\n                  </div>\n                </div>\n\n              <div class=\"row mt-3\">\n                <button v-if=\"current_page === PAGES.optional\" class=\"btn btn-success ml-auto\"\n                        :disabled=\"!isValid\" @click=\"sendOptions\">\n                  Accept options\n                </button>\n                <button v-else class=\"btn btn-success ml-auto\"\n                        :disabled=\"!isValid\" @click=\"current_page += 1\">Next\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<style scoped>\n  .modal-mask {\n    position: fixed;\n    z-index: 9998;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, .5);\n    overflow-y: scroll;\n    transition: opacity .3s ease;\n  }\n\n  .modal-wrapper {\n    vertical-align: middle;\n  }\n\n  .modal-container {\n    width: 800px;\n    height: 85%;\n    overflow-y: auto;\n    margin: 0 auto;\n    padding: 20px 30px;\n    background-color: #fff;\n    border-radius: 2px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, .33);\n    transition: all .3s ease;\n    font-family: Helvetica, Arial, sans-serif;\n  }\n\n  .modal-header h3 {\n    margin-top: 0;\n    color: #42b983;\n  }\n\n  .modal-body {\n    margin: 20px 0;\n    overflow-y: scroll;\n  }\n\n  /*\n   * The following styles are auto-applied to elements with\n   * transition=\"modal\" when their visibility is toggled\n   * by Vue.js.\n   *\n   * You can easily play with the modal transition by editing\n   * these styles.\n   */\n  .modal-enter {\n    opacity: 0;\n  }\n\n  .modal-leave-active {\n    opacity: 0;\n  }\n\n  .modal-enter .modal-container,\n  .modal-leave-active .modal-container {\n    -webkit-transform: scale(1.1);\n    transform: scale(1.1);\n  }\n\n  .preview-table td {\n    text-align: right;\n    padding-right: 20px;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdderWizard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdderWizard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdderWizard.vue?vue&type=template&id=08efba04&scoped=true&\"\nimport script from \"./AdderWizard.vue?vue&type=script&lang=js&\"\nexport * from \"./AdderWizard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdderWizard.vue?vue&type=style&index=0&id=08efba04&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08efba04\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-dropdown',{ref:\"dropdown\",attrs:{\"variant\":\"info\",\"right\":\"\",\"text\":\"Batch view\"}},[_c('div',{staticClass:\"px-3\"},[_c('label',{attrs:{\"for\":\"batch-region-list\"}},[_vm._v(\"Specify regions to plot (one per line):\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.region_text),expression:\"region_text\"}],attrs:{\"id\":\"batch-region-list\",\"rows\":\"10\",\"placeholder\":\"chr:start-end or chr:pos\"},domProps:{\"value\":(_vm.region_text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.region_text=$event.target.value}}}),(_vm.message)?_c('div',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.message))]):_vm._e(),_c('div',{staticClass:\"d-flex justify-content-end align-items-center\"},[(_vm.show_loader)?_c('div',{staticClass:\"d-flex align-items-center spinner-border   text-secondary mr-1\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_vm._e(),_vm._t(\"preset-button\",null,{\"updateRegions\":_vm.updateRegions}),_c('button',{staticClass:\"btn btn-success ml-1\",on:{\"click\":_vm.sendRegions}},[_vm._v(\"Go\")])],2)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Helper functions for handling various entities, like identifier strings (genes, regions, etc)\n *  that appear in a wide range of genetic datasets\n */\n\nimport { REGEX_POSITION, REGEX_REGION } from './constants';\n\n\n/**\n * Parse a single position and return a range, based on the region size\n * @param {Number} position\n * @param {Number} region_size\n * @returns {Number[]} [start, end]\n */\nfunction positionToRange(position, { region_size = 500000 }) {\n    const bounds = Math.floor(region_size / 2);\n    return [Math.max(position - bounds, 1), position + bounds];\n}\n\n/**\n * Parse a variant/region identifier, in the format chr:start-end or chr:center. Return start\n * and end positions.\n *\n * @param {string} spec\n * @param {number} [region_size=500000] If specified, enforces a max region size.\n * @returns {[string, number, number]} [chr, start, end]\n */\nfunction parseRegion(spec, { region_size = 500000 }) {\n    const range_match = spec.match(REGEX_REGION);\n    const single_match = spec.match(REGEX_POSITION);\n    let chr;\n    let start;\n    let end;\n    if (range_match) {\n        [chr, start, end] = range_match.slice(1);\n        // Ensure that returned values are numeric\n        start = +start;\n        end = +end;\n    } else if (single_match) {\n        let pos;\n        [chr, pos] = single_match.slice(1);\n        pos = +pos;\n        [start, end] = positionToRange(pos, { region_size });\n    } else {\n        throw new Error(`Could not parse the specified range: ${spec}`);\n    }\n\n    if (region_size && (end - start) > region_size) {\n        throw new Error(`Maximum allowable range is ${region_size.toLocaleString()}`);\n    }\n    return { chr, start, end };\n}\n\nexport { parseRegion, positionToRange };\n","<script>\n/**\n * Allows user to designate a list of regions to plot. Handles parsing and selection of regions,\n *  which will then be consumed by another widget that handles cycling between those choices.\n */\n\nimport { BDropdown } from 'bootstrap-vue/esm/';\nimport { parseRegion } from '../util/entity-helpers';\n\nexport default {\n    name: 'BatchSpec',\n    props: { max_range: Number },\n    data() {\n        return {\n            region_text: '',\n            show_loader: false,\n            message: null, // display validation errors\n        };\n    },\n    methods: {\n        getRegionsFromTextBox() {\n            // Regions are one per line, and eliminate empty lines\n            const text = this.region_text.trim().split(/\\r?\\n/).filter(value => !!value);\n            return text.map(item => parseRegion(item, { region_size: this.max_range }));\n        },\n        validateRegions(items) {\n            // There must be at least one region selected. Can add other checks in the future.\n            return !!items.length;\n        },\n        updateRegions(content) { // List of {chr,start, end} entries, one per region\n            // This is used by scoped slots: Receive a list of regions, and populate textarea\n            // Sometimes we may want to handle fetching items from a network request; wrap in a\n            //   promise to be sure this handles async behavior or values, consistently\n            this.show_loader = true;\n            Promise.resolve(content)\n                .then(items => items.map(({ chr, start, end }) => `${chr}:${start}-${end}`).join('\\n'))\n                .then((result) => { this.region_text = result; })\n                .catch((e) => { this.message = 'Unable to retrieve items'; })\n                .finally(() => { this.show_loader = false; });\n        },\n        sendRegions() {\n            // Fetch, parse, and send the list of regions\n            let items;\n            try {\n                items = this.getRegionsFromTextBox();\n            } catch (e) {\n                this.message = e.toString();\n                return;\n            }\n            if (!items.length) {\n                this.message = 'Must specify at least one region';\n                return;\n            }\n            this.message = '';\n            this.$emit('ready', items);\n            this.$refs.dropdown.hide();\n        },\n    },\n    components: { BDropdown },\n};\n</script>\n\n<template>\n  <div>\n    <b-dropdown ref=\"dropdown\" variant=\"info\" right text=\"Batch view\">\n      <div class=\"px-3\">\n        <label for=\"batch-region-list\">Specify regions to plot (one per line):</label>\n        <textarea id=\"batch-region-list\" v-model=\"region_text\"\n                  rows=\"10\" placeholder=\"chr:start-end or chr:pos\"/>\n        <div v-if=\"message\" class=\"text-danger\">{{message}}</div>\n        <div class=\"d-flex justify-content-end align-items-center\">\n          <div v-if=\"show_loader\"\n               class=\"d-flex align-items-center spinner-border   text-secondary mr-1\" role=\"status\">\n            <span class=\"sr-only\">Loading...</span>\n          </div>\n          <!-- Optional spot for a button (like \"fetch presets\") -->\n          <slot name=\"preset-button\" :updateRegions=\"updateRegions\"/>\n          <button @click=\"sendRegions\"  class=\"btn btn-success ml-1\">Go</button>\n        </div>\n      </div>\n    </b-dropdown>\n  </div>\n</template>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BatchSpec.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BatchSpec.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BatchSpec.vue?vue&type=template&id=bd94ef54&scoped=true&\"\nimport script from \"./BatchSpec.vue?vue&type=script&lang=js&\"\nexport * from \"./BatchSpec.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bd94ef54\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"alert-success d-flex justify-content-between align-items-center\"},[_c('button',{staticClass:\"btn btn-link\",attrs:{\"disabled\":this.current_index <= 0},on:{\"click\":function($event){return _vm.goToItem(-1)}}},[_vm._v(\"< Prev\")]),_c('span',[_vm._v(\"\\n    Current Locus: \"+_vm._s(_vm.current_region_display)+\" -\\n    \"),(this.current_index !==null)?_c('span',[_vm._v(\"\\n      (\"+_vm._s(this.current_index + 1)+\" of \"+_vm._s(this.regions.length)+\") -\\n    \")]):_vm._e(),_c('button',{staticClass:\"btn btn-link p-0 border-0 align-bottom\",attrs:{\"title\":\"Cancel navigation\"},on:{\"click\":_vm.cancelNavigation}},[_vm._v(\"cancel batch mode\")])]),_c('button',{staticClass:\"btn btn-link\",attrs:{\"disabled\":this.current_index !== null && this.current_index >= this.regions.length - 1},on:{\"click\":function($event){return _vm.goToItem(+1)}}},[_vm._v(\"Next >\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n/**\n * Show a \"scroll through a list of regions\" toolbar\n */\nexport default {\n    name: 'BatchScroller',\n    props: ['regions'],\n    data() {\n        return { current_index: null };\n    },\n    methods: {\n        cancelNavigation() {\n            this.$emit('cancel');\n        },\n        goToItem(increment) {\n            if (this.current_index === null) {\n                this.current_index = 0;\n            } else {\n                this.current_index += increment;\n            }\n            this.$emit('navigate', this.current_region);\n        },\n    },\n    computed: {\n        current_region() {\n            return this.current_index === null ? null : this.regions[this.current_index];\n        },\n        current_region_display() {\n            const region = this.current_region;\n            if (!region) {\n                return '(none)';\n            }\n            const { chr, start, end } = region;\n            return `${chr}: ${start.toLocaleString()}-${end.toLocaleString()}`;\n        },\n    },\n};\n</script>\n\n\n<template>\n<div class=\"alert-success d-flex justify-content-between align-items-center\">\n  <button class=\"btn btn-link\"\n          @click=\"goToItem(-1)\"\n          :disabled=\"this.current_index <= 0\"\n  >&lt; Prev</button>\n  <span>\n    Current Locus: {{current_region_display}} -\n    <span v-if=\"this.current_index !==null\">\n      ({{this.current_index + 1}} of {{this.regions.length}}) -\n    </span>\n    <button @click=\"cancelNavigation\"\n            class=\"btn btn-link p-0 border-0 align-bottom\"\n            title=\"Cancel navigation\"\n    >cancel batch mode</button>\n  </span>\n  <button class=\"btn btn-link\"\n          @click=\"goToItem(+1)\"\n          :disabled=\"this.current_index !== null && this.current_index >= this.regions.length - 1\"\n  >Next &gt;</button>\n</div>\n</template>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BatchScroller.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BatchScroller.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BatchScroller.vue?vue&type=template&id=29bd5af0&scoped=true&\"\nimport script from \"./BatchScroller.vue?vue&type=script&lang=js&\"\nexport * from \"./BatchScroller.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29bd5af0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-inline\"},[_c('vue-bootstrap-typeahead',{attrs:{\"data\":_vm.search_results,\"serializer\":function (s) { return s.term; },\"min-matching-chars\":3,\"placeholder\":\"chr:start-end, rs, or gene\"},model:{value:(_vm.region),callback:function ($$v) {_vm.region=$$v},expression:\"region\"}}),_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.selectRegion}},[_vm._v(\"Go to region\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"form-inline\">\n    <vue-bootstrap-typeahead\n        :data=\"search_results\"\n        v-model=\"region\"\n        :serializer=\"s => s.term\"\n        :min-matching-chars=\"3\"\n        placeholder=\"chr:start-end, rs, or gene\"/>\n    <button @click=\"selectRegion\" class=\"btn btn-primary\">Go to region</button>\n  </div>\n</template>\n\n<script>\nimport { debounce } from 'lodash';\nimport VueBootstrapTypeahead from 'vue-bootstrap-typeahead/src/components/VueBootstrapTypeahead.vue';\n\nimport { parseRegion, positionToRange } from '../util/entity-helpers';\n\nexport default {\n    name: 'region-picker',\n    components: { VueBootstrapTypeahead },\n    props: {\n        max_range: {\n            type: Number,\n            default: 500000,\n        },\n        search_url: {\n            type: String,\n            default: 'https://portaldev.sph.umich.edu/api/v1/annotation/omnisearch/',\n        },\n        build: {\n            type: String,\n            required: true,\n        },\n    },\n    data() {\n        return {\n            region: null,\n            search_results: [],\n        };\n    },\n    methods: {\n        selectRegion() {\n            const { max_range } = this;\n            if (!this.region) {\n                this.$emit('fail', 'Please specify a region');\n                return;\n            }\n\n            let chr;\n            let start;\n            let end;\n            const search_result = this.search_results.find(item => this.region === item.term);\n            if (search_result) {\n                // For genes and rsids, the suggested range is often too narrow.\n                //   Pick a region centered on the midpoint of the range.\n                ({ chrom: chr, start, end } = search_result);\n                [start, end] = positionToRange((start + end) / 2, { region_size: max_range });\n            } else {\n                try {\n                    ({ chr, start, end } = parseRegion(this.region, { region_size: max_range }));\n                } catch (e) {\n                    this.$emit('fail', 'Could not parse specified range');\n                    return;\n                }\n                if ((end - start) > this.max_range) {\n                    this.$emit('fail', `Maximum allowable range is ${max_range.toLocaleString()}`);\n                    return;\n                }\n            }\n            this.$emit('ready', { chr, start, end });\n        },\n        doSearch() {\n            this.search_results = [];\n            const url = `${this.search_url}?q=${encodeURIComponent(this.region)}&build=${encodeURIComponent(this.build)}`;\n            fetch(url)\n                .then((resp) => {\n                    if (resp.ok) {\n                        return resp.json();\n                    }\n                    throw new Error('Server error');\n                })\n                .then((data) => {\n                    // Limit the API response to a set of valid, and useful, search results\n                    //   (omnisearch does some things we don't need)\n                    this.search_results = data.data.filter(item => !item.error && (item.type !== 'region'));\n                })\n                .catch(() => this.$emit('fail', 'Could not perform the specified search'));\n        },\n    },\n    // eslint-disable-next-line func-names\n    watch: { region: debounce(function () { this.doSearch(); }, 500) },\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegionPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegionPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RegionPicker.vue?vue&type=template&id=5948190c&scoped=true&\"\nimport script from \"./RegionPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./RegionPicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5948190c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('label',{staticClass:\"btn btn-success mb-0\",attrs:{\"for\":\"file-picker\"}},[_vm._v(\"Add a file...\")]),_c('input',{staticStyle:{\"opacity\":\"0\",\"width\":\"0\",\"height\":\"0\"},attrs:{\"id\":\"file-picker\",\"type\":\"file\",\"multiple\":\"\",\"accept\":\"application/gzip,.tbi\"},on:{\"change\":function($event){return _vm.addSource($event)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script type=\"application/javascript\">\n/**\n * Create a reader instance by picking files from a local machine\n */\n\nimport { blobReader } from 'tabix-reader';\n\nexport default {\n    methods: {\n        addSource(event) {\n            const self = this;\n            const { files } = event.target;\n\n            let tabix_file;\n            let gwas_file;\n            for (let i = 0; i < files.length; i++) {\n                const f = files.item(i);\n                if (f.name.endsWith('.tbi')) {\n                    tabix_file = f;\n                } else {\n                    gwas_file = f;\n                }\n            }\n            if (files.length !== 2 || !tabix_file) {\n                self.$emit('fail', 'Must select two files: gzipped data and accompanying tabix index');\n                return;\n            }\n            const name = tabix_file.name.replace(/\\.gz|\\.tbi/gi, '');\n            blobReader(gwas_file, tabix_file).then((reader) => {\n                self.$emit('ready', reader, name);\n            }).catch((err) => {\n                self.$emit('fail', err);\n            }).finally(() => {\n                // Ensure that onchange fires even if same file selected later\n                event.target.value = null;\n            });\n        },\n    },\n};\n</script>\n\n<template>\n<span>\n  <label class=\"btn btn-success mb-0\" for=\"file-picker\">Add a file...</label>\n    <input id=\"file-picker\" type=\"file\" style=\"opacity: 0; width:0; height:0\"\n           multiple accept=\"application/gzip,.tbi\" @change=\"addSource($event)\">\n</span>\n</template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabixFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabixFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabixFile.vue?vue&type=template&id=eeb8a32e&\"\nimport script from \"./TabixFile.vue?vue&type=script&lang=js&\"\nexport * from \"./TabixFile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-inline flex-nowrap\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.url),expression:\"url\",modifiers:{\"trim\":true}}],staticClass:\"form-control mr-1\",attrs:{\"type\":\"url\",\"placeholder\":\"Specify a URL\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('button',{staticClass:\"btn btn-success\",on:{\"click\":_vm.addSource}},[_vm._v(\"Add\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script type=\"application/javascript\">\n/**\n* Given a URL, connect and create a reader instance. Also returns config options that can be used\n* with the reader instance.\n *\n * FIXME: Warning: This is highly experimental, and performs no validation.\n *  Server MUST support byte-range requests- many local servers do not. Use at your own risk.\n*/\n\nimport { urlReader } from 'tabix-reader';\n\nexport default {\n    data() {\n        return { url: '' };\n    },\n    methods: {\n        addSource() {\n            const self = this;\n            const indexUrl = `${this.url}.tbi`;\n            // Suggested dataset label is last part of url path, stripped of file extensions\n            const name = indexUrl.split('/').pop().replace(/\\.gz|\\.tbi/gi, '');\n            urlReader(this.url, indexUrl).then((reader) => {\n                self.$emit('ready', reader, name);\n            }).catch((err) => {\n                self.$emit('fail', err);\n            });\n        },\n    },\n};\n</script>\n\n<template>\n<div class=\"form-inline flex-nowrap\">\n  <input type=\"url\" v-model.trim=\"url\"\n         class=\"form-control mr-1\" placeholder=\"Specify a URL\">\n  <button class=\"btn btn-success\" @click=\"addSource\">Add</button>\n</div>\n</template>\n\n<style>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabixUrl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabixUrl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabixUrl.vue?vue&type=template&id=4996f6ba&\"\nimport script from \"./TabixUrl.vue?vue&type=script&lang=js&\"\nexport * from \"./TabixUrl.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { BDropdown } from 'bootstrap-vue/esm/';\n\nimport AdderWizard from './AdderWizard.vue';\nimport BatchSpec from './BatchSpec.vue';\nimport BatchScroller from './BatchScroller.vue';\nimport RegionPicker from './RegionPicker.vue';\nimport TabixFile from './TabixFile.vue';\nimport TabixUrl from './TabixUrl.vue';\n\nconst MAX_REGION_SIZE = 1000000;\n\nexport default {\n    name: 'gwas-toolbar',\n    props: {\n        // Limit how many studies can be added (due to browser performance)\n        max_studies: {\n            type: Number,\n            default: 3,\n        },\n        // Toolbar can optionally consider a list of studies already on plot\n        study_names: {\n            type: [Array, null],\n            default: null,\n        },\n    },\n    data() {\n        return {\n            // make constant available\n            max_region_size: MAX_REGION_SIZE,\n\n            // Whether to show the \"add a gwas\" UI\n            show_modal: false,\n            num_studies_added: 0,\n\n            // Control display of success/failure messages from this or child components\n            message: '',\n            message_class: '',\n\n            // Temporary internal state\n            file_reader: null,\n            display_name: null, // TODO: replace 2 way binding with bubbling name up separately\n\n            // Allow the user to customize the plot and select featured annotations\n            has_catalog: false,\n            has_credible_sets: false,\n            build: 'GRCh37',\n\n            // Controls for \"batch view\" mode\n            batch_mode_active: false,\n            batch_mode_regions: [],\n        };\n    },\n    computed: {\n        study_count() {\n            return this.study_names ? this.study_names.length : this.num_studies_added;\n        },\n    },\n    methods: {\n        reset() {\n            // Reset state in the component\n            this.file_reader = null;\n            this.display_name = null;\n            this.batch_mode_active = false;\n            this.batch_mode_regions = [];\n            this.showMessage('', '');\n        },\n        showMessage(message, style = 'text-danger') {\n            this.message = message;\n            this.message_class = style;\n        },\n        selectRange(config) {\n            this.showMessage('', '');\n            this.$emit('select-range', config);\n        },\n        connectReader(reader, name) {\n            this.file_reader = reader;\n            this.display_name = name;\n            this.show_modal = true;\n        },\n        activateBatchMode(regions) {\n            this.batch_mode_active = true;\n            this.batch_mode_regions = regions;\n        },\n        sendConfig(parser_options, state) {\n            // This particular app captures reader options for display, then relays them to the plot\n            this.num_studies_added += 1;\n            const annotations = {\n                gwas_catalog: this.has_catalog,\n                credible_sets: this.has_credible_sets,\n            };\n            const { build } = this;\n            // Event signature:\n            //  source_options={label, reader, parser_config},\n            //  plot_options={annotations, state}\n            this.$emit(\n                'config-ready', // TODO: Structure this into a defined type\n                {\n                    label: this.display_name,\n                    reader: this.file_reader,\n                    parser_config: parser_options,\n                },\n                {\n                    annotations,\n                    build,\n                    state: Object.assign({ genome_build: this.build }, state),\n                },\n            );\n            this.reset();\n        },\n    },\n    components: {\n        BDropdown,\n        AdderWizard,\n        BatchScroller,\n        BatchSpec,\n        RegionPicker,\n        TabixFile,\n        TabixUrl,\n    },\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row\">\n      <div v-if=\"!batch_mode_active\" class=\"col-sm-6\">\n        <div v-if=\"study_count < max_studies\">\n          <tabix-file class=\"mr-1\"\n                      @ready=\"connectReader\" @fail=\"showMessage\"/>\n          <b-dropdown text=\"Add from URL\" variant=\"success\">\n            <div class=\"px-3\">\n              <tabix-url @ready=\"connectReader\" @fail=\"showMessage\"/>\n            </div>\n          </b-dropdown>\n          <adder-wizard v-if=\"show_modal\"\n                        :file_reader=\"file_reader\"\n                        :file_name.sync=\"display_name\"\n                        @ready=\"sendConfig\"\n                        @close=\"show_modal = false\"/>\n        </div>\n      </div>\n      <div v-if=\"!batch_mode_active\" class=\"col-sm-6\">\n        <div v-if=\"study_count\" class=\"d-flex justify-content-end\">\n          <region-picker @ready=\"selectRange\"\n                         @fail=\"showMessage\"\n                         :build=\"build\"\n                         :max_range=\"max_region_size\"\n                         search_url=\"https://portaldev.sph.umich.edu/api/v1/annotation/omnisearch/\"/>\n          <batch-spec class=\"ml-1\"\n                      :max_range=\"max_region_size\"\n                      @ready=\"activateBatchMode\"/>\n        </div>\n        <b-dropdown v-else text=\"Plot options\" variant=\"info\"\n                    class=\"float-right\">\n          <div class=\"px-3\">\n            <strong>Annotations</strong><br>\n            <div class=\"form-check form-check-inline\">\n              <input class=\"form-check-input\" type=\"checkbox\" id=\"show-catalog\"\n                     v-model=\"has_catalog\">\n              <label class=\"form-check-label\" for=\"show-catalog\">GWAS Catalog</label>\n            </div>\n            <div class=\"form-check form-check-inline\">\n              <input class=\"form-check-input\" type=\"checkbox\" id=\"show-credible-set\"\n                     v-model=\"has_credible_sets\">\n              <label class=\"form-check-label\" for=\"show-credible-set\">95% credible set</label>\n            </div>\n            <strong>Genome Build</strong><br>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" type=\"radio\" id=\"build-37\"\n                     name=\"build\" value=\"GRCh37\" v-model=\"build\">\n              <label class=\"form-check-label\" for=\"build-37\">GRCh37</label>\n            </div>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" type=\"radio\" id=\"build-38\"\n                     name=\"build\" value=\"GRCh38\" v-model=\"build\">\n              <label class=\"form-check-label\" for=\"build-38\">GRCh38</label>\n            </div>\n          </div>\n        </b-dropdown>\n      </div>\n\n      <div v-if=\"batch_mode_active\" class=\"col-md-12\">\n        <batch-scroller :regions=\"batch_mode_regions\"\n                        @navigate=\"selectRange\"\n                        @cancel=\"batch_mode_active = false\"/>\n      </div>\n      <div class=\"row\" v-if=\"message\">\n        <div class=\"col-sm-12\"><span :class=\"[message_class]\">{{message}}</span></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GwasToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GwasToolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GwasToolbar.vue?vue&type=template&id=30f2883e&\"\nimport script from \"./GwasToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./GwasToolbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { BCard, BCollapse, VBToggle } from 'bootstrap-vue/esm/';\n\nimport {\n    getBasicSources, getBasicLayout,\n    createStudyTabixSources, createStudyLayout,\n} from './util/lz-helpers';\nimport count_region_view from './util/metrics';\n\nimport PlotPanes from './components/PlotPanes.vue';\nimport GwasToolbar from './components/GwasToolbar.vue';\n\n\nexport default {\n    name: 'LocalZoom',\n    data() {\n        return {\n            // Used to trigger the initial drawing of the plot\n            base_assoc_layout: null,\n            base_assoc_sources: null,\n\n            // Current position/ shared state\n            chr: null,\n            start: null,\n            end: null,\n\n            // State to be tracked across all components\n            build: null,\n            study_names: [],\n            // Control specific display options TODO improve\n            has_credible_sets: false,\n        };\n    },\n    methods: {\n        receiveAssocOptions(source_options, plot_options) {\n            const { label, reader, parser_config } = source_options;\n            const sources = createStudyTabixSources(label, reader, parser_config);\n            const { annotations, build, state } = plot_options;\n            const panels = createStudyLayout(label, annotations, build);\n\n            if (annotations.credible_sets) {\n                // Tell the \"export\" feature that relevant plot options were used.\n                this.has_credible_sets = true;\n            }\n\n            this.updateRegion(state);\n\n            if (!this.study_names.length) {\n                // Creating the initial plot can be done by simply passing props directly\n                this.base_assoc_sources = getBasicSources(sources);\n                // Prevent weird resize behavior when switching tabs\n                this.base_assoc_layout = getBasicLayout(\n                    state,\n                    panels,\n                    { responsive_resize: false },\n                );\n                // Collect metrics for first plot loaded\n                count_region_view();\n            } else {\n                // Adding subsequent panels is a more advanced usage; manipulate the child widget\n                this.$refs.plotWidget.addStudy(panels, sources);\n            }\n            this.study_names.push(label);\n            this.build = build;\n        },\n\n        updateRegion(region) {\n            // Receive new region config from toolbar\n            this.chr = region.chr;\n            this.start = region.start;\n            this.end = region.end;\n        },\n    },\n    components: {\n        GwasToolbar,\n        BCollapse,\n        BCard,\n        PlotPanes,\n    },\n    directives: { VBToggle },\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <h1><strong>LocalZoom: Plot your own data with LocusZoom.js</strong></h1>\n        <hr>\n        <button class=\"btn-link\" v-v-b-toggle.instructions>Instructions</button>\n        <b-collapse id=\"instructions\" class=\"mt-2\">\n          <b-card>\n            <div class=\"card-text\">\n            This is a demonstration of loading GWAS results via the web browser, fetching only the\n            data\n            required for that region. It relies on four assumptions:\n            <ol>\n              <li>Your data has been stored in a compressed format, and indexed using Tabix. The\n                index file must be in the same path, with the suffix <em>.tbi</em></li>\n              <li>The data is hosted in a place that is reachable by web browser (eg local files\n                or a service such as S3)\n              </li>\n              <li>If using a remote URL, the host location must support byte range requests. (<a\n                  href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests#Checking_if_a_server_supports_partial_requests\">how\n                to check</a>)\n              </li>\n              <li>Your file contains information required to draw a plot. Chromosome, position,\n                ref, and alt alleles can be specified as either individual columns, or a SNP\n                marker (eg <code>chr:pos_ref/alt</code>); there must also be a p-value\n                (or -log10 pvalue) for each SNP as a separate column. Beta, SE, and alt allele\n                frequency information are optional, but will be used on the plot if provided.\n                <em>Client-side plots cannot be generated from rsIDs.</em></li>\n            </ol>\n\n            <p>This service is designed to efficiently fetch only the data needed for the plot\n              region of interest. Therefore, it cannot generate summary views that would require\n              processing the entire file (eg Manhattan plots).\n            </p>\n\n            <p>\n              LD and overlay information is based on a specific build (<strong>build GRCh37</strong>\n              or <strong>build GRCh38</strong> are supported). Exercise caution when interpreting\n              plots based on a GWAS with positions from a different build.\n            </p>\n\n            <p>\n              Credible sets are\n              <a href=\"https://github.com/statgen/gwas-credible-sets/\">calculated</a> based on the\n              p-values for the displayed region. At the moment this tool does not support\n              uploading your own custom credible set annotations.\n            </p>\n            </div>\n          </b-card>\n        </b-collapse>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <gwas-toolbar\n            @config-ready=\"receiveAssocOptions\"\n            @select-range=\"updateRegion\"\n            :max_studies=\"4\"\n        />\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <plot-panes ref=\"plotWidget\"\n                    :dynamic_urls=\"true\"\n                    :assoc_layout=\"base_assoc_layout\" :assoc_sources=\"base_assoc_sources\"\n                    :study_names=\"study_names\" :has_credible_sets=\"has_credible_sets\"\n                    :build=\"build\"\n                    :chr=\"chr\" :start=\"start\" :end=\"end\" />\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <footer style=\"text-align: center;\">\n          &copy; Copyright 2019 <a href=\"https://github.com/statgen\">The University of Michigan\n          Center for Statistical Genetics</a><br>\n        </footer>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=341ceced&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"341ceced\",\n  null\n  \n)\n\nexport default component.exports","// /* global $ */\nimport Vue from 'vue';\n\nimport * as Sentry from '@sentry/browser';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\n\nimport App from './App.vue';\n\nSentry.init({\n    dsn: process.env.VUE_APP_SENTRY_DSN,\n    integrations: [new Sentry.Integrations.Vue({ Vue })],\n});\n\nnew Vue({ render: h => h(App) })\n    .$mount('#app');\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlotPanes.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlotPanes.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdderWizard.vue?vue&type=style&index=0&id=08efba04&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdderWizard.vue?vue&type=style&index=0&id=08efba04&scoped=true&lang=css&\""],"sourceRoot":""}